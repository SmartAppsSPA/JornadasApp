{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\jahma\\\\OneDrive\\\\Documents\\\\GitHub\\\\JornadasApp\\\\App.js\";\nimport \"react-native-gesture-handler\";\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport firebase from \"./Firebase/Firebase\";\nimport MyUserDrawer from \"./src/MyUserDrawer/MyUserDrawer\";\nimport MyCompanyDrawer from \"./src/MyCompanyDrawer/MyCompanyDrawer\";\nimport MyStack from \"./src/MyStack/MyStack\";\nimport PreferencesContext from \"./src/Context/PreferencesContext\";\n\nvar App = function App() {\n  var _useState = useState(undefined),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      userFbData = _useState4[0],\n      setUserFbData = _useState4[1];\n\n  useEffect(function () {\n    firebase.auth().onAuthStateChanged(function (response) {\n      setUser(response);\n\n      if (response) {\n        firebase.database().ref(\"Users/\" + response.uid).on(\"value\", function (snapshot) {\n          setUserFbData(snapshot.val());\n        });\n      } else {\n        console.log(\"No hay usuario logeado\");\n      }\n    });\n  }, [user]);\n  var preferences = useMemo(userFbData, [userFbData]);\n  if (user === undefined) return null;\n\n  if (user && userFbData) {\n    if (userFbData.tipo === \"User\") {\n      return React.createElement(PreferencesContext.Provider, {\n        value: preferences,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 8\n        }\n      }, React.createElement(MyUserDrawer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 8\n        }\n      }));\n    } else if (userFbData.tipo === \"Company\") {\n      return React.createElement(MyCompanyDrawer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 14\n        }\n      });\n    } else {\n      return React.createElement(MyStack, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 14\n        }\n      });\n    }\n  } else {\n    return React.createElement(MyStack, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 12\n      }\n    });\n  }\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/jahma/OneDrive/Documents/GitHub/JornadasApp/App.js"],"names":["React","useState","useEffect","useMemo","firebase","MyUserDrawer","MyCompanyDrawer","MyStack","PreferencesContext","App","undefined","user","setUser","userFbData","setUserFbData","auth","onAuthStateChanged","response","database","ref","uid","on","snapshot","val","console","log","preferences","tipo"],"mappings":";;AAAA,OAAO,8BAAP;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,OAArC,QAAmD,OAAnD;AACA,OAAOC,QAAP;AACA,OAAOC,YAAP;AACA,OAAOC,eAAP;AACA,OAAOC,OAAP;AACA,OAAOC,kBAAP;;AACA,IAAMC,GAAG,GAAG,SAANA,GAAM,GAAM;AAAA,kBACQR,QAAQ,CAACS,SAAD,CADhB;AAAA;AAAA,MACTC,IADS;AAAA,MACHC,OADG;;AAAA,mBAEoBX,QAAQ,CAAC,IAAD,CAF5B;AAAA;AAAA,MAETY,UAFS;AAAA,MAEGC,aAFH;;AAIhBZ,EAAAA,SAAS,CAAC,YAAM;AACbE,IAAAA,QAAQ,CAACW,IAAT,GAAgBC,kBAAhB,CAAmC,UAACC,QAAD,EAAc;AAChDL,MAAAA,OAAO,CAACK,QAAD,CAAP;;AACA,UAAIA,QAAJ,EAAc;AACZb,QAAAA,QAAQ,CACLc,QADH,GAEGC,GAFH,YAEgBF,QAAQ,CAACG,GAFzB,EAGGC,EAHH,CAGM,OAHN,EAGe,UAACC,QAAD,EAAc;AACzBR,UAAAA,aAAa,CAACQ,QAAQ,CAACC,GAAT,EAAD,CAAb;AACD,SALH;AAMD,OAPD,MAOO;AACLC,QAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACD;AACF,KAZA;AAaF,GAdQ,EAcN,CAACd,IAAD,CAdM,CAAT;AAiBA,MAAMe,WAAW,GAAGvB,OAAO,CAACU,UAAD,EAAa,CAACA,UAAD,CAAb,CAA3B;AAEA,MAAIF,IAAI,KAAKD,SAAb,EAAwB,OAAO,IAAP;;AAExB,MAAIC,IAAI,IAAIE,UAAZ,EAAwB;AACtB,QAAIA,UAAU,CAACc,IAAX,KAAoB,MAAxB,EAAgC;AAC9B,aACC,oBAAC,kBAAD,CAAoB,QAApB;AAA6B,QAAA,KAAK,EAAED,WAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CADD;AAKD,KAND,MAMO,IAAIb,UAAU,CAACc,IAAX,KAAoB,SAAxB,EAAmC;AACxC,aAAO,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD,KAFM,MAEA;AACL,aAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;AACF,GAZD,MAYO;AACL,WAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;AACF,CAxCD;;AA0CA,eAAelB,GAAf","sourcesContent":["import \"react-native-gesture-handler\";\nimport React, { useState, useEffect, useMemo} from \"react\";\nimport firebase from \"./Firebase/Firebase\";\nimport MyUserDrawer from \"./src/MyUserDrawer/MyUserDrawer\";\nimport MyCompanyDrawer from \"./src/MyCompanyDrawer/MyCompanyDrawer\";\nimport MyStack from \"./src/MyStack/MyStack\";\nimport PreferencesContext from './src/Context/PreferencesContext';\nconst App = () => {\n  const [user, setUser] = useState(undefined);\n  const [userFbData, setUserFbData] = useState(null);\n\n  useEffect(() => {\n     firebase.auth().onAuthStateChanged((response) => {\n      setUser(response);\n      if (response) {\n        firebase\n          .database()\n          .ref(`Users/${response.uid}`)\n          .on(\"value\", (snapshot) => {\n            setUserFbData(snapshot.val());\n          });\n      } else {\n        console.log(\"No hay usuario logeado\");\n      }\n    });\n  }, [user]);\n\n\n  const preferences = useMemo(userFbData, [userFbData])\n\n  if (user === undefined) return null;\n\n  if (user && userFbData) {\n    if (userFbData.tipo === \"User\") {\n      return (\n       <PreferencesContext.Provider value={preferences}>\n       <MyUserDrawer />\n       </PreferencesContext.Provider>\n       );\n    } else if (userFbData.tipo === \"Company\") {\n      return <MyCompanyDrawer />;\n    } else {\n      return <MyStack />;\n    }\n  } else {\n    return <MyStack />;\n  }\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}