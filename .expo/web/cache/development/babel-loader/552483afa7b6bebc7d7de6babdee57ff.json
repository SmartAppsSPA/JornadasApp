{"ast":null,"code":"import React, { Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport PropTypes from 'prop-types';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar classCallCheck = _classCallCheck;\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar createClass = _createClass;\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nvar _typeof_1 = createCommonjsModule(function (module) {\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof (typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\") === \"symbol\") {\n      module.exports = _typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      module.exports = _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== (typeof Symbol === \"function\" ? Symbol.prototype : \"@@prototype\") ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  module.exports = _typeof;\n});\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nvar assertThisInitialized = _assertThisInitialized;\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof_1(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nvar possibleConstructorReturn = _possibleConstructorReturn;\nvar getPrototypeOf = createCommonjsModule(function (module) {\n  function _getPrototypeOf(o) {\n    module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  module.exports = _getPrototypeOf;\n});\nvar setPrototypeOf = createCommonjsModule(function (module) {\n  function _setPrototypeOf(o, p) {\n    module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  module.exports = _setPrototypeOf;\n});\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nvar inherits = _inherits;\nvar _jsxFileName = \"/Users/yuanfu/Documents/react-native-x-carousel/src/Carousel.js\";\nvar NUM_OF_DUP = 3;\n\nvar approximatelyEqualTo = function approximatelyEqualTo(a, b) {\n  var epsilon = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.01;\n  return Math.abs(a - b) < epsilon;\n};\n\nvar Carousel = function (_Component) {\n  inherits(Carousel, _Component);\n\n  function Carousel() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    classCallCheck(this, Carousel);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = possibleConstructorReturn(this, (_getPrototypeOf2 = getPrototypeOf(Carousel)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.scrollView = React.createRef();\n    _this.state = {\n      currentPage: 1,\n      childWidth: 0\n    };\n\n    _this.isLooped = function () {\n      var _this$props = _this.props,\n          data = _this$props.data,\n          loop = _this$props.loop;\n      return loop && data.length > 1;\n    };\n\n    _this.setAutoPlay = function (start) {\n      if (start) {\n        _this.setAutoPlay(false);\n\n        var _this$props2 = _this.props,\n            data = _this$props2.data,\n            autoplayInterval = _this$props2.autoplayInterval;\n        _this.autoplayTimeout = setTimeout(function () {\n          var isLooped = _this.isLooped();\n\n          var _this$state = _this.state,\n              childWidth = _this$state.childWidth,\n              currentPage = _this$state.currentPage;\n          var isLastPage = data.length === currentPage;\n          var scrollX;\n\n          if (isLooped) {\n            var loopOffset = data.length >= NUM_OF_DUP ? NUM_OF_DUP : data.length;\n            scrollX = childWidth * (currentPage + loopOffset);\n          } else {\n            scrollX = isLastPage ? 0 : childWidth * currentPage;\n          }\n\n          _this.scrollView.current.scrollTo({\n            x: scrollX,\n            animated: true\n          });\n        }, autoplayInterval);\n      } else {\n        clearTimeout(_this.autoplayTimeout);\n      }\n    };\n\n    _this.onScroll = function (_ref) {\n      var x = _ref.nativeEvent.contentOffset.x;\n\n      _this.setAutoPlay(false);\n\n      var _this$props3 = _this.props,\n          data = _this$props3.data,\n          autoplay = _this$props3.autoplay;\n      var _this$state2 = _this.state,\n          prevPage = _this$state2.currentPage,\n          childWidth = _this$state2.childWidth;\n\n      var isLooped = _this.isLooped();\n\n      var loopOffset = 0;\n\n      if (isLooped) {\n        loopOffset = data.length >= NUM_OF_DUP ? NUM_OF_DUP : data.length;\n      }\n\n      var rawCurrentPage = x / childWidth;\n      var roundCurrentPage = Math.round(rawCurrentPage);\n      var normalizedPage = roundCurrentPage - loopOffset;\n      var currentPage = normalizedPage + 1;\n\n      if (normalizedPage < 0) {\n        currentPage = data.length + normalizedPage + 1;\n      } else if (normalizedPage >= data.length) {\n        currentPage = normalizedPage % data.length + 1;\n      }\n\n      var isScrollEnd = approximatelyEqualTo(rawCurrentPage, roundCurrentPage);\n\n      if (isLooped && isScrollEnd && (normalizedPage < 0 || normalizedPage >= data.length)) {\n        _this.scrollView.current.scrollTo({\n          x: (currentPage - 1 + loopOffset) * childWidth,\n          animated: false\n        });\n      }\n\n      if (isScrollEnd && autoplay) {\n        _this.setAutoPlay(true);\n      }\n\n      if (currentPage !== prevPage) {\n        _this.setState({\n          currentPage: currentPage\n        });\n\n        var onPage = _this.props.onPage;\n        onPage({\n          prev: prevPage,\n          current: currentPage\n        });\n      }\n    };\n\n    _this.onContentSizeChange = function (contentWidth) {\n      var _this$props4 = _this.props,\n          data = _this$props4.data,\n          autoplay = _this$props4.autoplay;\n\n      var isLooped = _this.isLooped();\n\n      var loopOffset = data.length >= NUM_OF_DUP ? NUM_OF_DUP : data.length;\n      var childrenNum = isLooped ? data.length + loopOffset * 2 : data.length;\n\n      _this.setState({\n        childWidth: contentWidth / childrenNum\n      }, function () {\n        if (isLooped) {\n          var childWidth = _this.state.childWidth;\n\n          _this.scrollView.current.scrollTo({\n            x: childWidth * loopOffset,\n            animated: false\n          });\n        }\n\n        if (autoplay) {\n          _this.setAutoPlay(true);\n        }\n      });\n    };\n\n    _this.renderItems = function () {\n      var _this$props5 = _this.props,\n          data = _this$props5.data,\n          renderItem = _this$props5.renderItem;\n      var normalizedData = data;\n\n      var isLooped = _this.isLooped();\n\n      var loopOffset = 0;\n\n      if (isLooped) {\n        var frontDup = data.slice(-NUM_OF_DUP);\n        var endDup = data.slice(0, NUM_OF_DUP);\n        loopOffset = frontDup.length;\n        normalizedData = frontDup.concat(data, endDup);\n      }\n\n      return normalizedData.map(function (item, index) {\n        var normalizedIndex = index - loopOffset;\n        var renderIndex = normalizedIndex % data.length;\n        renderIndex = renderIndex < 0 ? data.length + renderIndex : renderIndex;\n        var renderedItem = renderItem(item, renderIndex);\n        var key = renderedItem.key;\n\n        if (normalizedIndex < 0) {\n          key = key + \"-front-dup\";\n        } else if (normalizedIndex >= data.length) {\n          key = key + \"-end-dup\";\n        }\n\n        return React.createElement(React.Fragment, {\n          key: key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          }\n        }, renderedItem);\n      });\n    };\n\n    _this.renderPagination = function () {\n      var _this$props6 = _this.props,\n          data = _this$props6.data,\n          Pagination = _this$props6.pagination;\n      var currentPage = _this.state.currentPage;\n      var pagination = null;\n\n      if (Pagination) {\n        pagination = React.createElement(Pagination, {\n          currentPage: currentPage,\n          total: data.length,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          }\n        });\n      }\n\n      return pagination;\n    };\n\n    _this.render = function () {\n      var childWidth = _this.state.childWidth;\n      return React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        }\n      }, React.createElement(ScrollView, {\n        ref: _this.scrollView,\n        style: [styles.scrollView, {\n          width: childWidth\n        }],\n        pagingEnabled: true,\n        horizontal: true,\n        showsHorizontalScrollIndicator: false,\n        showsVerticalScrollIndicator: false,\n        bounces: false,\n        onScrollEndDrag: _this.onScrollEndDrag,\n        scrollEventThrottle: 16,\n        onScroll: _this.onScroll,\n        onContentSizeChange: _this.onContentSizeChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        }\n      }, _this.renderItems()), _this.renderPagination());\n    };\n\n    return _this;\n  }\n\n  createClass(Carousel, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.setAutoPlay(false);\n    }\n  }]);\n  return Carousel;\n}(Component);\n\nvar styles = StyleSheet.create({\n  scrollView: {\n    flexGrow: 0\n  }\n});\nCarousel.propTypes = {\n  renderItem: PropTypes.func.isRequired,\n  data: PropTypes.arrayOf(PropTypes.shape({})),\n  loop: PropTypes.bool,\n  autoplay: PropTypes.bool,\n  autoplayInterval: PropTypes.number,\n  pagination: PropTypes.elementType,\n  onPage: PropTypes.func\n};\nCarousel.defaultProps = {\n  data: [],\n  loop: false,\n  autoplay: false,\n  autoplayInterval: 2000,\n  pagination: null,\n  onPage: function onPage() {}\n};\n\nvar _extends_1 = createCommonjsModule(function (module) {\n  function _extends() {\n    module.exports = _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  module.exports = _extends;\n});\n\nvar _jsxFileName$1 = \"/Users/yuanfu/Documents/react-native-x-carousel/src/Pagination.js\";\n\nvar Pagination = function Pagination(props) {\n  var total = props.total,\n      currentPage = props.currentPage,\n      theme = props.theme;\n  var opacities = theme === 'dark' ? [0.5, 0.2] : [0.8, 0.4];\n\n  var renderDots = function renderDots() {\n    var Dots = [];\n\n    for (var i = 0; i < total; i += 1) {\n      var isActive = currentPage === i + 1;\n      var additionalStyle = {\n        opacity: isActive ? opacities[0] : opacities[1],\n        marginLeft: i === 0 ? 0 : 8,\n        backgroundColor: theme === 'dark' ? '#000' : '#fff'\n      };\n      Dots.push(React.createElement(View, {\n        key: \"pagination-dot-\" + i,\n        style: [styles$1.dot, additionalStyle],\n        __source: {\n          fileName: _jsxFileName$1,\n          lineNumber: 29\n        }\n      }));\n    }\n\n    return Dots;\n  };\n\n  return React.createElement(View, {\n    style: styles$1.container,\n    __source: {\n      fileName: _jsxFileName$1,\n      lineNumber: 42\n    }\n  }, renderDots());\n};\n\nvar styles$1 = StyleSheet.create({\n  container: {\n    position: 'absolute',\n    bottom: '5%',\n    left: 0,\n    right: 0,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  dot: {\n    width: 6,\n    height: 6,\n    borderRadius: 3\n  }\n});\nPagination.propTypes = {\n  currentPage: PropTypes.number.isRequired,\n  total: PropTypes.number.isRequired,\n  theme: PropTypes.oneOf(['dark', 'light'])\n};\nPagination.defaultProps = {\n  theme: 'dark'\n};\n\nvar PaginationLight = function PaginationLight(props) {\n  return React.createElement(Pagination, _extends_1({}, props, {\n    theme: \"light\",\n    __source: {\n      fileName: _jsxFileName$1,\n      lineNumber: 78\n    }\n  }));\n};\n\nexport default Carousel;\nexport { Pagination, PaginationLight };","map":{"version":3,"sources":["C:/Users/Marcelo/Documents/JornadasApp/JornadasApp/node_modules/react-native-x-carousel/dist/react-native-x-carousel.m.js"],"names":["React","Component","PropTypes","_classCallCheck","instance","Constructor","TypeError","classCallCheck","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","createClass","createCommonjsModule","fn","module","exports","_typeof_1","_typeof","obj","Symbol","iterator","constructor","_assertThisInitialized","self","ReferenceError","assertThisInitialized","_possibleConstructorReturn","call","possibleConstructorReturn","getPrototypeOf","_getPrototypeOf","o","setPrototypeOf","__proto__","_setPrototypeOf","p","_inherits","subClass","superClass","create","value","inherits","_jsxFileName","NUM_OF_DUP","approximatelyEqualTo","a","b","epsilon","arguments","undefined","Math","abs","Carousel","_Component","_getPrototypeOf2","_this","_len","args","Array","_key","apply","concat","scrollView","createRef","state","currentPage","childWidth","isLooped","_this$props","data","loop","setAutoPlay","start","_this$props2","autoplayInterval","autoplayTimeout","setTimeout","_this$state","isLastPage","scrollX","loopOffset","current","scrollTo","x","animated","clearTimeout","onScroll","_ref","nativeEvent","contentOffset","_this$props3","autoplay","_this$state2","prevPage","rawCurrentPage","roundCurrentPage","round","normalizedPage","isScrollEnd","setState","onPage","prev","onContentSizeChange","contentWidth","_this$props4","childrenNum","renderItems","_this$props5","renderItem","normalizedData","frontDup","slice","endDup","map","item","index","normalizedIndex","renderIndex","renderedItem","createElement","Fragment","__source","fileName","lineNumber","renderPagination","_this$props6","Pagination","pagination","total","render","View","ScrollView","ref","style","styles","width","pagingEnabled","horizontal","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","bounces","onScrollEndDrag","scrollEventThrottle","componentWillUnmount","StyleSheet","flexGrow","propTypes","func","isRequired","arrayOf","shape","bool","number","elementType","defaultProps","_extends_1","_extends","assign","source","hasOwnProperty","_jsxFileName$1","theme","opacities","renderDots","Dots","isActive","additionalStyle","opacity","marginLeft","backgroundColor","push","styles$1","dot","container","position","bottom","left","right","flexDirection","alignItems","justifyContent","height","borderRadius","oneOf","PaginationLight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { StyleSheet, View, ScrollView } from 'react-native';\nimport PropTypes from 'prop-types';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar classCallCheck = _classCallCheck;\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar createClass = _createClass;\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar _typeof_1 = createCommonjsModule(function (module) {\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\n});\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nvar assertThisInitialized = _assertThisInitialized;\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof_1(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nvar possibleConstructorReturn = _possibleConstructorReturn;\n\nvar getPrototypeOf = createCommonjsModule(function (module) {\nfunction _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\n});\n\nvar setPrototypeOf = createCommonjsModule(function (module) {\nfunction _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\n});\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nvar inherits = _inherits;\n\nvar _jsxFileName=\"/Users/yuanfu/Documents/react-native-x-carousel/src/Carousel.js\";var NUM_OF_DUP=3;var approximatelyEqualTo=function approximatelyEqualTo(a,b){var epsilon=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0.01;return Math.abs(a-b)<epsilon;};var Carousel=function(_Component){inherits(Carousel,_Component);function Carousel(){var _getPrototypeOf2;var _this;classCallCheck(this,Carousel);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=possibleConstructorReturn(this,(_getPrototypeOf2=getPrototypeOf(Carousel)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.scrollView=React.createRef();_this.state={currentPage:1,childWidth:0};_this.isLooped=function(){var _this$props=_this.props,data=_this$props.data,loop=_this$props.loop;return loop&&data.length>1;};_this.setAutoPlay=function(start){if(start){_this.setAutoPlay(false);var _this$props2=_this.props,data=_this$props2.data,autoplayInterval=_this$props2.autoplayInterval;_this.autoplayTimeout=setTimeout(function(){var isLooped=_this.isLooped();var _this$state=_this.state,childWidth=_this$state.childWidth,currentPage=_this$state.currentPage;var isLastPage=data.length===currentPage;var scrollX;if(isLooped){var loopOffset=data.length>=NUM_OF_DUP?NUM_OF_DUP:data.length;scrollX=childWidth*(currentPage+loopOffset);}else{scrollX=isLastPage?0:childWidth*currentPage;}_this.scrollView.current.scrollTo({x:scrollX,animated:true});},autoplayInterval);}else{clearTimeout(_this.autoplayTimeout);}};_this.onScroll=function(_ref){var x=_ref.nativeEvent.contentOffset.x;_this.setAutoPlay(false);var _this$props3=_this.props,data=_this$props3.data,autoplay=_this$props3.autoplay;var _this$state2=_this.state,prevPage=_this$state2.currentPage,childWidth=_this$state2.childWidth;var isLooped=_this.isLooped();var loopOffset=0;if(isLooped){loopOffset=data.length>=NUM_OF_DUP?NUM_OF_DUP:data.length;}var rawCurrentPage=x/childWidth;var roundCurrentPage=Math.round(rawCurrentPage);var normalizedPage=roundCurrentPage-loopOffset;var currentPage=normalizedPage+1;if(normalizedPage<0){currentPage=data.length+normalizedPage+1;}else if(normalizedPage>=data.length){currentPage=normalizedPage%data.length+1;}var isScrollEnd=approximatelyEqualTo(rawCurrentPage,roundCurrentPage);if(isLooped&&isScrollEnd&&(normalizedPage<0||normalizedPage>=data.length)){_this.scrollView.current.scrollTo({x:(currentPage-1+loopOffset)*childWidth,animated:false});}if(isScrollEnd&&autoplay){_this.setAutoPlay(true);}if(currentPage!==prevPage){_this.setState({currentPage:currentPage});var onPage=_this.props.onPage;onPage({prev:prevPage,current:currentPage});}};_this.onContentSizeChange=function(contentWidth){var _this$props4=_this.props,data=_this$props4.data,autoplay=_this$props4.autoplay;var isLooped=_this.isLooped();var loopOffset=data.length>=NUM_OF_DUP?NUM_OF_DUP:data.length;var childrenNum=isLooped?data.length+loopOffset*2:data.length;_this.setState({childWidth:contentWidth/childrenNum},function(){if(isLooped){var childWidth=_this.state.childWidth;_this.scrollView.current.scrollTo({x:childWidth*loopOffset,animated:false});}if(autoplay){_this.setAutoPlay(true);}});};_this.renderItems=function(){var _this$props5=_this.props,data=_this$props5.data,renderItem=_this$props5.renderItem;var normalizedData=data;var isLooped=_this.isLooped();var loopOffset=0;if(isLooped){var frontDup=data.slice(-NUM_OF_DUP);var endDup=data.slice(0,NUM_OF_DUP);loopOffset=frontDup.length;normalizedData=frontDup.concat(data,endDup);}return normalizedData.map(function(item,index){var normalizedIndex=index-loopOffset;var renderIndex=normalizedIndex%data.length;renderIndex=renderIndex<0?data.length+renderIndex:renderIndex;var renderedItem=renderItem(item,renderIndex);var key=renderedItem.key;if(normalizedIndex<0){key=key+\"-front-dup\";}else if(normalizedIndex>=data.length){key=key+\"-end-dup\";}return React.createElement(React.Fragment,{key:key,__source:{fileName:_jsxFileName,lineNumber:176}},renderedItem);});};_this.renderPagination=function(){var _this$props6=_this.props,data=_this$props6.data,Pagination=_this$props6.pagination;var currentPage=_this.state.currentPage;var pagination=null;if(Pagination){pagination=React.createElement(Pagination,{currentPage:currentPage,total:data.length,__source:{fileName:_jsxFileName,lineNumber:193}});}return pagination;};_this.render=function(){var childWidth=_this.state.childWidth;return React.createElement(View,{__source:{fileName:_jsxFileName,lineNumber:208}},React.createElement(ScrollView,{ref:_this.scrollView,style:[styles.scrollView,{width:childWidth}],pagingEnabled:true,horizontal:true,showsHorizontalScrollIndicator:false,showsVerticalScrollIndicator:false,bounces:false,onScrollEndDrag:_this.onScrollEndDrag,scrollEventThrottle:16,onScroll:_this.onScroll,onContentSizeChange:_this.onContentSizeChange,__source:{fileName:_jsxFileName,lineNumber:209}},_this.renderItems()),_this.renderPagination());};return _this;}createClass(Carousel,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.setAutoPlay(false);}}]);return Carousel;}(Component);var styles=StyleSheet.create({scrollView:{flexGrow:0}});Carousel.propTypes={renderItem:PropTypes.func.isRequired,data:PropTypes.arrayOf(PropTypes.shape({})),loop:PropTypes.bool,autoplay:PropTypes.bool,autoplayInterval:PropTypes.number,pagination:PropTypes.elementType,onPage:PropTypes.func};Carousel.defaultProps={data:[],loop:false,autoplay:false,autoplayInterval:2000,pagination:null,onPage:function onPage(){}};\n\nvar _extends_1 = createCommonjsModule(function (module) {\nfunction _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;\n});\n\nvar _jsxFileName$1=\"/Users/yuanfu/Documents/react-native-x-carousel/src/Pagination.js\";var Pagination=function Pagination(props){var total=props.total,currentPage=props.currentPage,theme=props.theme;var opacities=theme==='dark'?[0.5,0.2]:[0.8,0.4];var renderDots=function renderDots(){var Dots=[];for(var i=0;i<total;i+=1){var isActive=currentPage===i+1;var additionalStyle={opacity:isActive?opacities[0]:opacities[1],marginLeft:i===0?0:8,backgroundColor:theme==='dark'?'#000':'#fff'};Dots.push(React.createElement(View,{key:\"pagination-dot-\"+i,style:[styles$1.dot,additionalStyle],__source:{fileName:_jsxFileName$1,lineNumber:29}}));}return Dots;};return React.createElement(View,{style:styles$1.container,__source:{fileName:_jsxFileName$1,lineNumber:42}},renderDots());};var styles$1=StyleSheet.create({container:{position:'absolute',bottom:'5%',left:0,right:0,flexDirection:'row',alignItems:'center',justifyContent:'center'},dot:{width:6,height:6,borderRadius:3}});Pagination.propTypes={currentPage:PropTypes.number.isRequired,total:PropTypes.number.isRequired,theme:PropTypes.oneOf(['dark','light'])};Pagination.defaultProps={theme:'dark'};var PaginationLight=function PaginationLight(props){return React.createElement(Pagination,_extends_1({},props,{theme:\"light\",__source:{fileName:_jsxFileName$1,lineNumber:78}}));};\n\nexport default Carousel;\nexport { Pagination, PaginationLight };\n"]},"metadata":{},"sourceType":"module"}