{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Marcelo\\\\Documents\\\\JornadasApp\\\\JornadasApp\\\\src\\\\Screens\\\\Bono\\\\BonoCompany.js\";\nimport React, { useState } from \"react\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport HeaderView from \"../../components/Layouts/Header\";\nimport { numberFormat } from \"../../Sources/PagoEnLinea/FormatPrice\";\nimport usePreference from \"../../Hooks/usePreferences\";\nimport { validateEmail } from \"../../Utils/validation\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport firebase from \"../../../Firebase/Firebase\";\nimport moment from \"moment\";\nimport { Input, Icon, CheckBox } from \"react-native-elements\";\nimport BonoImage from \"../../components/Layouts/BonoImage\";\nimport Loading from \"../../Utils/Loading\";\nexport default function BonoUser(props) {\n  var toastRef = props.toastRef;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var navigation = useNavigation();\n\n  var _usePreference = usePreference(),\n      userFbData = _usePreference.userFbData;\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      formError = _useState4[0],\n      setFormError = _useState4[1];\n\n  var _useState5 = useState(1),\n      _useState6 = _slicedToArray(_useState5, 2),\n      cantidad = _useState6[0],\n      setCantidad = _useState6[1];\n\n  var _useState7 = useState(userFbData.email),\n      _useState8 = _slicedToArray(_useState7, 2),\n      email = _useState8[0],\n      setEmail = _useState8[1];\n\n  var _useState9 = useState(userFbData.telefono),\n      _useState10 = _slicedToArray(_useState9, 2),\n      telefono = _useState10[0],\n      setTelefono = _useState10[1];\n\n  var _useState11 = useState(userFbData.representante),\n      _useState12 = _slicedToArray(_useState11, 2),\n      representante = _useState12[0],\n      setRepresentante = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      checked = _useState14[0],\n      setChecked = _useState14[1];\n\n  var precio = 500;\n  var precioTotal = precio * cantidad;\n\n  var handleCantidad = function handleCantidad(cantidad, max) {\n    if (cantidad >= 1) {\n      setCantidad(cantidad);\n    } else if (cantidad < 0) {\n      cantidad = 1;\n      setCantidad(cantidad);\n    } else if (cantidad >= max) {\n      cantidad = max;\n      setCantidad(cantidad);\n    }\n  };\n\n  var comprar = function comprar() {\n    var errors = {};\n\n    if (!email || !telefono || !representante || !cantidad) {\n      toastRef.current.show(\"Todos Los Campos Son Obligatorios.\");\n      if (!email) errors.email = true;\n      if (!telefono) errors.telefono = true;\n      if (!representante) errors.representante = true;\n      if (!cantidad) errors.cantidad = true;\n    } else if (!validateEmail(email)) {\n      toastRef.current.show(\"Correo electr√≥nico incorrecto.\");\n      errors.email = true;\n    } else {\n      setLoading(true);\n      var key = firebase.database().ref().push().key;\n      firebase.database().ref().child(\"Users/\" + userFbData.uid + \"/bonos/\" + key + \"/\").set({\n        cantidad: cantidad,\n        total: numberFormat(precioTotal),\n        nombre: userFbData.nombre,\n        rutEmpresa: userFbData.rutEmpresa,\n        email: email,\n        telefono: telefono,\n        representante: representante,\n        fecha: moment().format(\"DD-MM-YYYY h:mm:ss a\"),\n        id: key,\n        estado_de_pago: \"\",\n        forma_de_pago: \"\",\n        uid: userFbData.uid,\n        certificado: checked\n      }).then(function (response) {\n        setLoading(false);\n        toastRef.current.show(\"Su compra ha sido exitosa.\");\n        handleReset();\n      }).catch(function (err) {\n        toastRef.current.show(\"Ha ocurrido un problema.\");\n      });\n    }\n\n    setFormError(errors);\n  };\n\n  var handleReset = function handleReset() {\n    setEmail(userFbData.email);\n    setTelefono(userFbData.telefono);\n    setRepresentante(userFbData.representante);\n    setCantidad(1);\n    setChecked(false);\n  };\n\n  if (userFbData) {\n    return React.createElement(SafeAreaView, {\n      style: styles.container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 4\n      }\n    }, React.createElement(View, {\n      style: styles.headerContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }\n    }, React.createElement(HeaderView, {\n      props: props,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 6\n      }\n    })), React.createElement(View, {\n      style: styles.imageContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 5\n      }\n    }, React.createElement(BonoImage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 6\n      }\n    })), React.createElement(View, {\n      style: styles.titleContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 5\n      }\n    }, React.createElement(Text, {\n      style: styles.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 6\n      }\n    }, \"Bono Sorteo Parcela\")), React.createElement(View, {\n      style: styles.inputContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }\n    }, React.createElement(Text, {\n      style: styles.inputTitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 6\n      }\n    }, \"Correo Electr\\xF3nico \"), React.createElement(Input, {\n      name: \"email\",\n      containerStyle: styles.input,\n      inputStyle: styles.inputText,\n      inputContainerStyle: styles.inputUnderContainer,\n      placeholder: \"ejemplo@empresa.com...\",\n      defaultValue: email,\n      onChange: function onChange(e) {\n        return setEmail(e.nativeEvent.text);\n      },\n      rightIcon: formError.email ? React.createElement(Icon, {\n        type: \"font-awesome\",\n        name: \"exclamation-circle\",\n        color: \"red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 9\n        }\n      }) : React.createElement(Icon, {\n        type: \"Fontawesome5\",\n        name: \"edit\",\n        iconStyle: styles.iconRight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 9\n        }\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 6\n      }\n    }), React.createElement(Text, {\n      style: styles.inputTitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 6\n      }\n    }, \"Tel\\xE9fono de Contacto\"), React.createElement(Input, {\n      name: \"telefono\",\n      containerStyle: styles.input,\n      inputStyle: styles.inputText,\n      inputContainerStyle: styles.inputUnderContainer,\n      placeholder: \"+56 9 1111 1111...\",\n      defaultValue: telefono,\n      keyboardType: \"phone-pad\",\n      keyboardAppearance: \"dark\",\n      onChange: function onChange(e) {\n        return setTelefono(e.nativeEvent.text);\n      },\n      rightIcon: formError.telefono ? React.createElement(Icon, {\n        type: \"font-awesome\",\n        name: \"exclamation-circle\",\n        color: \"red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 9\n        }\n      }) : React.createElement(Icon, {\n        type: \"Fontawesome5\",\n        name: \"edit\",\n        iconStyle: styles.iconRight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 9\n        }\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 6\n      }\n    }), React.createElement(Text, {\n      style: styles.inputTitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 6\n      }\n    }, \"Nombre De Contacto\"), React.createElement(Input, {\n      name: \"representante\",\n      containerStyle: styles.input,\n      inputStyle: styles.inputText,\n      inputContainerStyle: styles.inputUnderContainer,\n      textContentType: \"nickname\",\n      placeholder: \"fran.. zun...\",\n      defaultValue: representante,\n      onChange: function onChange(e) {\n        return setRepresentante(e.nativeEvent.text);\n      },\n      rightIcon: formError.representante ? React.createElement(Icon, {\n        type: \"font-awesome\",\n        name: \"exclamation-circle\",\n        color: \"red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 9\n        }\n      }) : React.createElement(Icon, {\n        type: \"Fontawesome5\",\n        name: \"edit\",\n        iconStyle: styles.iconRight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 9\n        }\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 6\n      }\n    }), React.createElement(CheckBox, {\n      center: true,\n      title: \"Solicitar Comprobante. \",\n      onPress: function onPress() {\n        return setChecked(!checked);\n      },\n      checked: checked,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 6\n      }\n    })), React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return handleReset();\n      },\n      style: styles.buttonFormReset,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 5\n      }\n    }, React.createElement(Text, {\n      style: styles.formReset,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 6\n      }\n    }, \"Reiniciar Formulario\")), React.createElement(View, {\n      style: styles.quantityContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 5\n      }\n    }, React.createElement(Text, {\n      style: styles.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 6\n      }\n    }, \"Cantidad\"), React.createElement(View, {\n      style: styles.quantity,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 6\n      }\n    }, React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return handleCantidad(cantidad - 1);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 6\n      }\n    }, React.createElement(Icon, {\n      type: \"material-community\",\n      name: \"minus-circle\",\n      color: \"white\",\n      size: 35,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 8\n      }\n    })), React.createElement(Text, {\n      style: styles.numero,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 7\n      }\n    }, cantidad), React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return handleCantidad(cantidad + 1);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 7\n      }\n    }, React.createElement(Icon, {\n      type: \"material-community\",\n      name: \"plus-circle\",\n      color: \"white\",\n      size: 35,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 8\n      }\n    }))), React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return setCantidad(1);\n      },\n      style: styles.buttonReset,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 6\n      }\n    }, React.createElement(Text, {\n      style: styles.textReset,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 6\n      }\n    }, \"Reiniciar\"))), React.createElement(View, {\n      style: styles.submitContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 5\n      }\n    }, React.createElement(TouchableOpacity, {\n      onPress: comprar,\n      style: styles.buttonPagar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 6\n      }\n    }, React.createElement(Text, {\n      style: styles.bonoSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 7\n      }\n    }, numberFormat(precioTotal), \" Comprar\"))), React.createElement(View, {\n      style: styles.backContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 5\n      }\n    }, React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate(\"Home\");\n      },\n      style: styles.comeBack,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 6\n      }\n    }, React.createElement(Icon, {\n      raised: true,\n      name: \"arrow-left\",\n      type: \"font-awesome\",\n      color: \"#03255F\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 7\n      }\n    }))), React.createElement(Loading, {\n      isVisible: loading,\n      text: \"Procesando pago\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 5\n      }\n    }));\n  }\n}\n\nvar _Dimensions$get = Dimensions.get(\"window\"),\n    width = _Dimensions$get.width;\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 14\n  },\n  headerContainer: {\n    flex: 1\n  },\n  imageContainer: {\n    flex: 3\n  },\n  titleContainer: {\n    flex: 1\n  },\n  inputContainer: {\n    flex: 5,\n    marginLeft: 50,\n    marginRight: 50,\n    alignItems: \"center\"\n  },\n  quantityContainer: {\n    flex: 2,\n    backgroundColor: \"grey\"\n  },\n  submitContainer: {\n    flex: 1\n  },\n  backContainer: {\n    flex: 1\n  },\n  bonoImagen: {\n    width: width * 0.99,\n    height: 200,\n    resizeMode: \"contain\",\n    borderRadius: 8,\n    alignSelf: \"center\",\n    justifyContent: \"center\",\n    marginTop: 3\n  },\n  title: {\n    fontSize: 20,\n    color: \"#03255F\",\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n    margin: 5\n  },\n  inputTitle: {\n    fontSize: 15,\n    color: \"#03255F\",\n    fontWeight: \"bold\",\n    alignSelf: \"center\",\n    justifyContent: \"center\"\n  },\n  input: {\n    width: \"100%\",\n    backgroundColor: \"#FFF\",\n    margin: 8,\n    borderRadius: 20\n  },\n  inputText: {\n    fontSize: 12,\n    color: \"#03255F\",\n    fontWeight: \"bold\"\n  },\n  inputUnderContainer: {\n    borderBottomWidth: 0\n  },\n  iconRight: {\n    color: \"#c1c1c1\"\n  },\n  quantity: {\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    margin: 15\n  },\n  plus: {\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  less: {\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  numero: {\n    width: 75,\n    height: 45,\n    fontSize: 45,\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n    marginTop: -15,\n    justifyContent: \"center\"\n  },\n  buttonReset: {\n    width: 150,\n    height: 25,\n    marginBottom: 10,\n    backgroundColor: \"#03255F\",\n    alignItems: \"center\",\n    alignSelf: \"center\",\n    justifyContent: \"center\",\n    borderRadius: 30\n  },\n  textReset: {\n    fontSize: 15,\n    color: \"#FFF\",\n    fontWeight: \"bold\",\n    marginTop: -3\n  },\n  buttonFormReset: {\n    flexDirection: 'row',\n    width: 150,\n    height: 25,\n    marginVertical: 10,\n    backgroundColor: \"#03255F\",\n    alignItems: \"center\",\n    alignSelf: \"center\",\n    justifyContent: \"center\",\n    borderRadius: 20\n  },\n  formReset: {\n    fontSize: 15,\n    color: \"#FFF\",\n    fontWeight: \"bold\",\n    marginTop: -3\n  },\n  bonoSubmit: {\n    fontSize: 17.5,\n    color: \"white\",\n    fontWeight: \"bold\"\n  },\n  buttonPagar: {\n    width: 150,\n    height: 40,\n    backgroundColor: \"green\",\n    alignSelf: \"center\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderRadius: 20,\n    margin: 20\n  },\n  comeBack: {\n    alignSelf: \"flex-start\",\n    borderRadius: 25,\n    marginLeft: 15,\n    marginTop: -80,\n    position: \"absolute\"\n  }\n});","map":{"version":3,"sources":["C:/Users/Marcelo/Documents/JornadasApp/JornadasApp/src/Screens/Bono/BonoCompany.js"],"names":["React","useState","HeaderView","numberFormat","usePreference","validateEmail","useNavigation","firebase","moment","Input","Icon","CheckBox","BonoImage","Loading","BonoUser","props","toastRef","loading","setLoading","navigation","userFbData","formError","setFormError","cantidad","setCantidad","email","setEmail","telefono","setTelefono","representante","setRepresentante","checked","setChecked","precio","precioTotal","handleCantidad","max","comprar","errors","current","show","key","database","ref","push","child","uid","set","total","nombre","rutEmpresa","fecha","format","id","estado_de_pago","forma_de_pago","certificado","then","response","handleReset","catch","err","styles","container","headerContainer","imageContainer","titleContainer","title","inputContainer","inputTitle","input","inputText","inputUnderContainer","e","nativeEvent","text","iconRight","buttonFormReset","formReset","quantityContainer","quantity","numero","buttonReset","textReset","submitContainer","buttonPagar","bonoSubmit","backContainer","navigate","comeBack","Dimensions","get","width","StyleSheet","create","flex","marginLeft","marginRight","alignItems","backgroundColor","bonoImagen","height","resizeMode","borderRadius","alignSelf","justifyContent","marginTop","fontSize","color","fontWeight","textAlign","margin","borderBottomWidth","flexDirection","plus","less","marginBottom","marginVertical","position"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n\tSafeAreaView,\r\n\tView,\r\n\tText,\r\n\tStyleSheet,\r\n\tTouchableOpacity,\r\n\tDimensions,\r\n} from \"react-native\";\r\nimport HeaderView from \"../../components/Layouts/Header\";\r\nimport { numberFormat } from \"../../Sources/PagoEnLinea/FormatPrice\";\r\nimport usePreference from \"../../Hooks/usePreferences\";\r\nimport { validateEmail } from \"../../Utils/validation\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport firebase from \"../../../Firebase/Firebase\";\r\nimport moment from \"moment\";\r\nimport { Input, Icon, CheckBox } from \"react-native-elements\";\r\nimport BonoImage from \"../../components/Layouts/BonoImage\";\r\nimport Loading from \"../../Utils/Loading\";\r\n\r\nexport default function BonoUser(props) {\r\n\tconst { toastRef } = props;\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst navigation = useNavigation();\r\n\tconst { userFbData } = usePreference();\r\n\tconst [formError, setFormError] = useState({});\r\n\tconst [cantidad, setCantidad] = useState(1);\r\n\tconst [email, setEmail] = useState(userFbData.email);\r\n\tconst [telefono, setTelefono] = useState(userFbData.telefono);\r\n\tconst [representante, setRepresentante] = useState(userFbData.representante);\r\n\tconst [checked, setChecked] = useState(false);\r\n\tconst precio = 500;\r\n\tconst precioTotal = precio * cantidad;\r\n\r\n\tconst handleCantidad = (cantidad, max) => {\r\n\t\tif (cantidad >= 1) {\r\n\t\t\tsetCantidad(cantidad);\r\n\t\t} else if (cantidad < 0) {\r\n\t\t\tcantidad = 1;\r\n\t\t\tsetCantidad(cantidad);\r\n\t\t} else if (cantidad >= max) {\r\n\t\t\tcantidad = max;\r\n\t\t\tsetCantidad(cantidad);\r\n\t\t}\r\n\t};\r\n\r\n\tconst comprar = () => {\r\n\t\tlet errors = {};\r\n\t\tif (!email || !telefono || !representante || !cantidad) {\r\n\t\t\ttoastRef.current.show(\"Todos Los Campos Son Obligatorios.\");\r\n\t\t\tif (!email) errors.email = true;\r\n\t\t\tif (!telefono) errors.telefono = true;\r\n\t\t\tif (!representante) errors.representante = true;\r\n\t\t\tif (!cantidad) errors.cantidad = true;\r\n\t\t} else if (!validateEmail(email)) {\r\n\t\t\ttoastRef.current.show(\"Correo electr√≥nico incorrecto.\");\r\n\t\t\terrors.email = true;\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tconst key = firebase.database().ref().push().key;\r\n\t\t\tfirebase\r\n\t\t\t\t.database()\r\n\t\t\t\t.ref()\r\n\t\t\t\t.child(`Users/${userFbData.uid}/bonos/${key}/`)\r\n\t\t\t\t.set({\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\ttotal: numberFormat(precioTotal),\r\n\t\t\t\t\tnombre: userFbData.nombre,\r\n\t\t\t\t\trutEmpresa: userFbData.rutEmpresa,\r\n\t\t\t\t\temail: email,\r\n\t\t\t\t\ttelefono: telefono,\r\n\t\t\t\t\trepresentante: representante,\r\n\t\t\t\t\tfecha: moment().format(\"DD-MM-YYYY h:mm:ss a\"),\r\n\t\t\t\t\tid: key,\r\n\t\t\t\t\testado_de_pago: \"\",\r\n\t\t\t\t\tforma_de_pago: \"\",\r\n\t\t\t\t\tuid: userFbData.uid,\r\n\t\t\t\t\tcertificado: checked,\r\n\t\t\t\t})\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\ttoastRef.current.show(\"Su compra ha sido exitosa.\");\r\n\t\t\t\t\thandleReset();\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\ttoastRef.current.show(\"Ha ocurrido un problema.\");\r\n\t\t\t\t});\r\n\t\t}\r\n\t\tsetFormError(errors);\r\n\t};\r\n\r\n\tconst handleReset = () => {\r\n\t\tsetEmail(userFbData.email);\r\n\t\tsetTelefono(userFbData.telefono);\r\n\t\tsetRepresentante(userFbData.representante);\r\n\t\tsetCantidad(1);\r\n\t\tsetChecked(false);\r\n\t};\r\n\r\n\tif (userFbData) {\r\n\t\treturn (\r\n\t\t\t<SafeAreaView style={styles.container}>\r\n\t\t\t\t<View style={styles.headerContainer}>\r\n\t\t\t\t\t<HeaderView props={props} />\r\n\t\t\t\t</View>\r\n\t\t\t\t<View style={styles.imageContainer}>\r\n\t\t\t\t\t<BonoImage />\r\n\t\t\t\t</View>\r\n\t\t\t\t<View style={styles.titleContainer}>\r\n\t\t\t\t\t<Text style={styles.title}>Bono Sorteo Parcela</Text>\r\n\t\t\t\t</View>\r\n\t\t\t\t<View style={styles.inputContainer}>\r\n\t\t\t\t\t<Text style={styles.inputTitle}>Correo Electr√≥nico </Text>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tcontainerStyle={styles.input}\r\n\t\t\t\t\t\tinputStyle={styles.inputText}\r\n\t\t\t\t\t\tinputContainerStyle={styles.inputUnderContainer}\r\n\t\t\t\t\t\tplaceholder=\"ejemplo@empresa.com...\"\r\n\t\t\t\t\t\tdefaultValue={email}\r\n\t\t\t\t\t\tonChange={(e) => setEmail(e.nativeEvent.text)}\r\n\t\t\t\t\t\trightIcon={\r\n\t\t\t\t\t\t\tformError.email ? (\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"font-awesome\"\r\n\t\t\t\t\t\t\t\t\tname=\"exclamation-circle\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"red\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"Fontawesome5\"\r\n\t\t\t\t\t\t\t\t\tname=\"edit\"\r\n\t\t\t\t\t\t\t\t\ticonStyle={styles.iconRight}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Text style={styles.inputTitle}>Tel√©fono de Contacto</Text>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\tname=\"telefono\"\r\n\t\t\t\t\t\tcontainerStyle={styles.input}\r\n\t\t\t\t\t\tinputStyle={styles.inputText}\r\n\t\t\t\t\t\tinputContainerStyle={styles.inputUnderContainer}\r\n\t\t\t\t\t\tplaceholder=\"+56 9 1111 1111...\"\r\n\t\t\t\t\t\tdefaultValue={telefono}\r\n\t\t\t\t\t\tkeyboardType=\"phone-pad\"\r\n\t\t\t\t\t\tkeyboardAppearance=\"dark\"\r\n\t\t\t\t\t\tonChange={(e) => setTelefono(e.nativeEvent.text)}\r\n\t\t\t\t\t\trightIcon={\r\n\t\t\t\t\t\t\tformError.telefono ? (\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"font-awesome\"\r\n\t\t\t\t\t\t\t\t\tname=\"exclamation-circle\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"red\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"Fontawesome5\"\r\n\t\t\t\t\t\t\t\t\tname=\"edit\"\r\n\t\t\t\t\t\t\t\t\ticonStyle={styles.iconRight}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Text style={styles.inputTitle}>Nombre De Contacto</Text>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\tname=\"representante\"\r\n\t\t\t\t\t\tcontainerStyle={styles.input}\r\n\t\t\t\t\t\tinputStyle={styles.inputText}\r\n\t\t\t\t\t\tinputContainerStyle={styles.inputUnderContainer}\r\n\t\t\t\t\t\ttextContentType=\"nickname\"\r\n\t\t\t\t\t\tplaceholder=\"fran.. zun...\"\r\n\t\t\t\t\t\tdefaultValue={representante}\r\n\t\t\t\t\t\tonChange={(e) => setRepresentante(e.nativeEvent.text)}\r\n\t\t\t\t\t\trightIcon={\r\n\t\t\t\t\t\t\tformError.representante ? (\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"font-awesome\"\r\n\t\t\t\t\t\t\t\t\tname=\"exclamation-circle\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"red\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"Fontawesome5\"\r\n\t\t\t\t\t\t\t\t\tname=\"edit\"\r\n\t\t\t\t\t\t\t\t\ticonStyle={styles.iconRight}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<CheckBox\r\n\t\t\t\t\t\tcenter\r\n\t\t\t\t\t\ttitle=\"Solicitar Comprobante. \"\r\n\t\t\t\t\t\tonPress={() => setChecked(!checked)}\r\n\t\t\t\t\t\tchecked={checked}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</View>\r\n\t\t\t\t<TouchableOpacity\r\n\t\t\t\t\tonPress={() => handleReset()}\r\n\t\t\t\t\tstyle={styles.buttonFormReset}\r\n\t\t\t\t><Text style={styles.formReset}>Reiniciar Formulario</Text>\r\n\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t<View style={styles.quantityContainer}>\r\n\t\t\t\t\t<Text style={styles.title}>Cantidad</Text>\r\n\t\t\t\t\t<View style={styles.quantity}>\r\n\t\t\t\t\t<TouchableOpacity onPress={() => handleCantidad(cantidad - 1)}>\r\n\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\ttype=\"material-community\"\r\n\t\t\t\t\t\t\t\tname=\"minus-circle\"\r\n\t\t\t\t\t\t\t\tcolor=\"white\"\r\n\t\t\t\t\t\t\t\tsize={35}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t\t\t<Text style={styles.numero}>{cantidad}</Text>\r\n\t\t\t\t\t\t<TouchableOpacity onPress={() => handleCantidad(cantidad + 1)}>\r\n\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\ttype=\"material-community\"\r\n\t\t\t\t\t\t\t\tname=\"plus-circle\"\r\n\t\t\t\t\t\t\t\tcolor=\"white\"\r\n\t\t\t\t\t\t\t\tsize={35}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<TouchableOpacity\r\n\t\t\t\t\t\tonPress={() => setCantidad(1)}\r\n\t\t\t\t\t\tstyle={styles.buttonReset}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<Text style={styles.textReset}>Reiniciar</Text>\r\n\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t</View>\r\n\t\t\t\t<View style={styles.submitContainer}>\r\n\t\t\t\t\t<TouchableOpacity onPress={comprar} style={styles.buttonPagar}>\r\n\t\t\t\t\t\t<Text style={styles.bonoSubmit}>\r\n\t\t\t\t\t\t\t{numberFormat(precioTotal)} Comprar\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t</View>\r\n\t\t\t\t<View style={styles.backContainer}>\r\n\t\t\t\t\t<TouchableOpacity\r\n\t\t\t\t\t\tonPress={() => navigation.navigate(\"Home\")}\r\n\t\t\t\t\t\tstyle={styles.comeBack}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\traised\r\n\t\t\t\t\t\t\tname=\"arrow-left\"\r\n\t\t\t\t\t\t\ttype=\"font-awesome\"\r\n\t\t\t\t\t\t\tcolor=\"#03255F\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t</View>\r\n\t\t\t\t<Loading isVisible={loading} text=\"Procesando pago\" />\r\n\t\t\t</SafeAreaView>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst { width } = Dimensions.get(\"window\");\r\n\r\nconst styles = StyleSheet.create({\r\n\tcontainer: {\r\n\t\tflex: 14,\r\n\t},\r\n\theaderContainer: {\r\n\t\tflex: 1,\r\n\t},\r\n\timageContainer: {\r\n\t\tflex: 3,\r\n\t},\r\n\ttitleContainer: {\r\n\t\tflex: 1,\r\n\t},\r\n\tinputContainer: {\r\n\t\tflex: 5,\r\n\t\tmarginLeft: 50,\r\n\t\tmarginRight: 50,\r\n\t\talignItems: \"center\",\r\n\t},\r\n\tquantityContainer: {\r\n\t\tflex: 2,\r\n\t\tbackgroundColor: \"grey\",\r\n\t},\r\n\tsubmitContainer: {\r\n\t\tflex: 1,\r\n\t},\r\n\tbackContainer: {\r\n\t\tflex: 1,\r\n\t},\r\n\tbonoImagen: {\r\n\t\twidth: width * 0.99,\r\n\t\theight: 200,\r\n\t\tresizeMode: \"contain\",\r\n\t\tborderRadius: 8,\r\n\t\talignSelf: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t\tmarginTop: 3,\r\n\t},\r\n\ttitle: {\r\n\t\tfontSize: 20,\r\n\t\tcolor: \"#03255F\",\r\n\t\tfontWeight: \"bold\",\r\n\t\ttextAlign: \"center\",\r\n\t\tmargin: 5,\r\n\t},\r\n\tinputTitle: {\r\n\t\tfontSize: 15,\r\n\t\tcolor: \"#03255F\",\r\n\t\tfontWeight: \"bold\",\r\n\t\talignSelf: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t},\r\n\tinput: {\r\n\t\twidth: \"100%\",\r\n\t\tbackgroundColor: \"#FFF\",\r\n\t\tmargin: 8,\r\n\t\tborderRadius: 20,\r\n\t},\r\n\tinputText: {\r\n\t\tfontSize: 12,\r\n\t\tcolor: \"#03255F\",\r\n\t\tfontWeight: \"bold\",\r\n\t},\r\n\tinputUnderContainer: {\r\n\t\tborderBottomWidth: 0,\r\n\t},\r\n\ticonRight: {\r\n\t\tcolor: \"#c1c1c1\",\r\n\t},\r\n\tquantity: {\r\n\t\tflexDirection: \"row\",\r\n\t\tjustifyContent: \"center\",\r\n\t\tmargin: 15,\r\n\t},\r\n\tplus: {\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t},\r\n\tless: {\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t},\r\n\tnumero: {\r\n\t\twidth: 75,\r\n\t\theight: 45,\r\n\t\tfontSize: 45,\r\n\t\tcolor: \"white\",\r\n\t\tfontWeight: \"bold\",\r\n\t\ttextAlign: \"center\",\r\n\t\tmarginTop: -15,\r\n\t\tjustifyContent: \"center\",\r\n\t},\r\n\tbuttonReset: {\r\n\t\twidth:150,\r\n\t\theight: 25,\r\n\t\tmarginBottom: 10,\r\n\t\tbackgroundColor: \"#03255F\",\r\n\t\talignItems: \"center\",\r\n\t\talignSelf: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t\tborderRadius: 30,\r\n\t},\r\n\ttextReset: {\r\n\t\tfontSize: 15,\r\n\t\tcolor: \"#FFF\",\r\n\t\tfontWeight: \"bold\",\r\n\t\tmarginTop: -3,\r\n\t},\r\n\tbuttonFormReset: {\r\n\t\tflexDirection: 'row',\r\n\t\twidth: 150,\r\n\t\theight: 25,\r\n\t\tmarginVertical: 10,\r\n\t\tbackgroundColor: \"#03255F\",\r\n\t\talignItems: \"center\",\r\n\t\talignSelf: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t\tborderRadius: 20,\r\n\t},\r\n\tformReset: {\r\n\t\tfontSize: 15,\r\n\t\tcolor: \"#FFF\",\r\n\t\tfontWeight: \"bold\",\r\n\t\tmarginTop: -3,\r\n\t},\r\n\tbonoSubmit: {\r\n\t\tfontSize: 17.5,\r\n\t\tcolor: \"white\",\r\n\t\tfontWeight: \"bold\",\r\n\t},\r\n\tbuttonPagar: {\r\n\t\twidth: 150,\r\n\t\theight: 40,\r\n\t\tbackgroundColor: \"green\",\r\n\t\talignSelf: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t\tborderRadius: 20,\r\n\t\tmargin: 20,\r\n\t},\r\n\tcomeBack: {\r\n\t\talignSelf: \"flex-start\",\r\n\t\tborderRadius: 25,\r\n\t\tmarginLeft: 15,\r\n\t\tmarginTop: -80,\r\n\t\tposition: \"absolute\",\r\n\t},\r\n});\r\n"]},"metadata":{},"sourceType":"module"}