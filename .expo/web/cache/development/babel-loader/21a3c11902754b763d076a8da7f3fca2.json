{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Marcelo\\\\Documents\\\\JornadasApp\\\\JornadasApp\\\\App.js\";\n\nimport \"react-native-gesture-handler\";\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport firebase from \"./Firebase/Firebase\";\nimport MyDrawer from \"./src/Navigation/MyDrawer/MyDrawer\";\nimport MyStack from \"./src/Navigation/MyStack/MyStack\";\nimport PreferencesContext from \"./src/Context/PreferencesContext\";\n\nvar App = function App() {\n  var _useState = useState(undefined),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      userFbData = _useState4[0],\n      setUserFbData = _useState4[1];\n\n  useEffect(function () {\n    firebase.auth().onAuthStateChanged(function (response) {\n      setUser(response);\n\n      if (response) {\n        firebase.database().ref(\"Users/\" + response.uid).once(\"value\", function (snapshot) {\n          setUserFbData(snapshot.val());\n        });\n      } else {\n        console.log(\"No hay usuario logeado\");\n      }\n    });\n  }, []);\n  var preferences = useMemo(function () {\n    return {\n      setUserFbData: setUserFbData,\n      userFbData: userFbData\n    };\n  }, [userFbData]);\n  if (user === undefined) return null;\n\n  if (user !== null && userFbData !== null) {\n    return React.createElement(PreferencesContext.Provider, {\n      value: preferences,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 4\n      }\n    }, React.createElement(MyDrawer, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 5\n      }\n    }));\n  } else if (user === null && userFbData !== null) {\n    return React.createElement(PreferencesContext.Provider, {\n      value: preferences,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 4\n      }\n    }, React.createElement(MyDrawer, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 5\n      }\n    }));\n  } else {\n    return React.createElement(MyStack, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 10\n      }\n    });\n  }\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Marcelo/Documents/JornadasApp/JornadasApp/App.js"],"names":["React","useState","useEffect","useMemo","firebase","MyDrawer","MyStack","PreferencesContext","App","undefined","user","setUser","userFbData","setUserFbData","auth","onAuthStateChanged","response","database","ref","uid","once","snapshot","val","console","log","preferences"],"mappings":";;;;;AAAA,OAAO,8BAAP;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,OAArC,QAAoD,OAApD;AACA,OAAOC,QAAP;AACA,OAAOC,QAAP;AACA,OAAOC,OAAP;AACA,OAAOC,kBAAP;;AAEA,IAAMC,GAAG,GAAG,SAANA,GAAM,GAAM;AACjB,kBAAwBP,QAAQ,CAACQ,SAAD,CAAhC;AAAA;AAAA,MAAOC,IAAP;AAAA,MAAaC,OAAb;;AACA,mBAAoCV,QAAQ,CAAC,IAAD,CAA5C;AAAA;AAAA,MAAOW,UAAP;AAAA,MAAmBC,aAAnB;;AAEAX,EAAAA,SAAS,CAAC,YAAM;AACfE,IAAAA,QAAQ,CAACU,IAAT,GAAgBC,kBAAhB,CAAmC,UAACC,QAAD,EAAc;AAChDL,MAAAA,OAAO,CAACK,QAAD,CAAP;;AACA,UAAIA,QAAJ,EAAc;AACbZ,QAAAA,QAAQ,CACNa,QADF,GAEEC,GAFF,YAEeF,QAAQ,CAACG,GAFxB,EAGEC,IAHF,CAGO,OAHP,EAGgB,UAACC,QAAD,EAAc;AAC5BR,UAAAA,aAAa,CAACQ,QAAQ,CAACC,GAAT,EAAD,CAAb;AACA,SALF;AAMA,OAPD,MAOO;AACNC,QAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACA;AACD,KAZD;AAaA,GAdQ,EAcN,EAdM,CAAT;AAgBA,MAAMC,WAAW,GAAGtB,OAAO,CAC1B;AAAA,WAAO;AACNU,MAAAA,aAAa,EAAbA,aADM;AAEND,MAAAA,UAAU,EAAVA;AAFM,KAAP;AAAA,GAD0B,EAK1B,CAACA,UAAD,CAL0B,CAA3B;AAQA,MAAIF,IAAI,KAAKD,SAAb,EAAwB,OAAO,IAAP;;AAExB,MAAIC,IAAI,KAAK,IAAT,IAAiBE,UAAU,KAAK,IAApC,EAA0C;AACzC,WACC,oBAAC,kBAAD,CAAoB,QAApB;AAA6B,MAAA,KAAK,EAAEa,WAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD;AAKA,GAND,MAMO,IAAIf,IAAI,KAAK,IAAT,IAAiBE,UAAU,KAAK,IAApC,EAA0C;AAChD,WACC,oBAAC,kBAAD,CAAoB,QAApB;AAA6B,MAAA,KAAK,EAAEa,WAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD;AAKA,GANM,MAMA;AACN,WAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACA;AACD,CA7CD;;AA+CA,eAAejB,GAAf","sourcesContent":["import \"react-native-gesture-handler\";\r\nimport React, { useState, useEffect, useMemo } from \"react\";\r\nimport firebase from \"./Firebase/Firebase\";\r\nimport MyDrawer from \"./src/Navigation/MyDrawer/MyDrawer\";\r\nimport MyStack from \"./src/Navigation/MyStack/MyStack\";\r\nimport PreferencesContext from \"./src/Context/PreferencesContext\";\r\n\r\nconst App = () => {\r\n\tconst [user, setUser] = useState(undefined);\r\n\tconst [userFbData, setUserFbData] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tfirebase.auth().onAuthStateChanged((response) => {\r\n\t\t\tsetUser(response);\r\n\t\t\tif (response) {\r\n\t\t\t\tfirebase\r\n\t\t\t\t\t.database()\r\n\t\t\t\t\t.ref(`Users/${response.uid}`)\r\n\t\t\t\t\t.once(\"value\", (snapshot) => {\r\n\t\t\t\t\t\tsetUserFbData(snapshot.val());\r\n\t\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"No hay usuario logeado\");\r\n\t\t\t}\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst preferences = useMemo(\r\n\t\t() => ({\r\n\t\t\tsetUserFbData,\r\n\t\t\tuserFbData,\r\n\t\t}),\r\n\t\t[userFbData]\r\n\t);\r\n\r\n\tif (user === undefined) return null;\r\n\r\n\tif (user !== null && userFbData !== null) {\r\n\t\treturn (\r\n\t\t\t<PreferencesContext.Provider value={preferences}>\r\n\t\t\t\t<MyDrawer />\r\n\t\t\t</PreferencesContext.Provider>\r\n\t\t);\r\n\t} else if (user === null && userFbData !== null) {\r\n\t\treturn (\r\n\t\t\t<PreferencesContext.Provider value={preferences}>\r\n\t\t\t\t<MyDrawer />\r\n\t\t\t</PreferencesContext.Provider>\r\n\t\t);\r\n\t} else {\r\n\t\treturn <MyStack />;\r\n\t}\r\n};\r\n\r\nexport default App;\r\n\r\n"]},"metadata":{},"sourceType":"module"}