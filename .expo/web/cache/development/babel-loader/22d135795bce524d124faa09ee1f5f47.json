{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/marceloimac/Documents/GitHub/JornadasApp/src/Screens/Perfil/PerfilUSer.js\";\nimport React, { useState } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { Input, Icon } from \"react-native-elements\";\nimport firebase from \"../../../Firebase/Firebase\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport usePreference from \"../../Hooks/usePreferences\";\nimport ProfileImage from \"../../components/Layouts/ProfileImage\";\nimport HeaderView from \"../../components/Layouts/Header\";\nimport Loading from \"../../Utils/Loading\";\nimport { Restart } from \"fiction-expo-restart\";\nexport default function PerfilUSer(props) {\n  var toastRef = props.toastRef;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var navigation = useNavigation();\n\n  var _usePreference = usePreference(),\n      userFbData = _usePreference.userFbData;\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      formError = _useState4[0],\n      setFormError = _useState4[1];\n\n  var _useState5 = useState(userFbData.nombre),\n      _useState6 = _slicedToArray(_useState5, 2),\n      nombre = _useState6[0],\n      setNombre = _useState6[1];\n\n  var _useState7 = useState(userFbData.apellido),\n      _useState8 = _slicedToArray(_useState7, 2),\n      apellido = _useState8[0],\n      setApellido = _useState8[1];\n\n  var _useState9 = useState(userFbData.telefono),\n      _useState10 = _slicedToArray(_useState9, 2),\n      telefono = _useState10[0],\n      setTelefono = _useState10[1];\n\n  var ActualizarDatos = function ActualizarDatos() {\n    var errors = {};\n\n    if (!nombre || !apellido || !telefono) {\n      toastRef.current.show(\"Todos los campos son obligatorios\");\n      if (!nombre) errors.nombre = true;\n      if (!apellido) errors.apellido = true;\n      if (!telefono) errors.telefono = true;\n    } else {\n      setLoading(true);\n      firebase.database().ref().child(\"Users/\" + userFbData.uid + \"/\").update({\n        nombre: nombre,\n        apellido: apellido,\n        telefono: telefono\n      }).then(function (response) {\n        setLoading(false);\n        toastRef.current.show(\"Datos actualizados con exito\");\n        handleReset();\n        Restart();\n      }).catch(function (err) {\n        setLoading(false);\n        toastRef.current.show(\"Algo anda mal.\");\n        setFormError(errors);\n        setUserFbData();\n      });\n    }\n  };\n\n  function handleReset() {\n    return {\n      nombre: userFbData.nombre,\n      apellido: userFbData.apellido,\n      telefono: userFbData.telefono\n    };\n  }\n\n  return React.createElement(SafeAreaView, {\n    style: styles.mainView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 3\n    }\n  }, React.createElement(View, {\n    style: styles.headerContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 4\n    }\n  }, React.createElement(HeaderView, {\n    props: props,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  })), React.createElement(View, {\n    style: styles.imageContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 4\n    }\n  }, React.createElement(ProfileImage, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 4\n    }\n  })), React.createElement(View, {\n    style: styles.titleContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 4\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, \"Perfil\")), React.createElement(View, {\n    style: styles.inputContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 4\n    }\n  }, React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 4\n    }\n  }, React.createElement(Text, {\n    style: styles.inputTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, \"Editar Datos\")), React.createElement(Input, {\n    containerStyle: styles.input,\n    inputStyle: styles.inputText,\n    inputContainerStyle: styles.inputUnderContainer,\n    placeholder: \"Nombre(s)\",\n    placeholderTextColor: \"#969696\",\n    defaultValue: userFbData.nombre,\n    onChange: function onChange(e) {\n      return setNombre(e.nativeEvent.text);\n    },\n    rightIcon: React.createElement(Icon, {\n      type: \"Fontawesome5\",\n      name: \"edit\",\n      iconStyle: styles.iconRight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }),\n    errorMessage: formError.nombre ? \"Este campo es obligatorio.\" : null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }), React.createElement(Input, {\n    containerStyle: styles.input,\n    inputStyle: styles.inputText,\n    inputContainerStyle: styles.inputUnderContainer,\n    placeholder: \"Apellido(s)\",\n    placeholderTextColor: \"#969696\",\n    defaultValue: userFbData.apellido,\n    onChange: function onChange(e) {\n      return setApellido(e.nativeEvent.text);\n    },\n    rightIcon: React.createElement(Icon, {\n      type: \"Fontawesome5\",\n      name: \"edit\",\n      iconStyle: styles.iconRight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 7\n      }\n    }),\n    errorMessage: formError.apellido ? \"Este campo es obligatorio.\" : null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }), React.createElement(Input, {\n    containerStyle: styles.input,\n    inputStyle: styles.inputText,\n    inputContainerStyle: styles.inputUnderContainer,\n    placeholder: \"Tel\\xE9fono De Contacto\",\n    placeholderTextColor: \"#969696\",\n    defaultValue: userFbData.telefono,\n    keyboardType: \"number-pad\",\n    onChange: function onChange(e) {\n      return setTelefono(e.nativeEvent.text);\n    },\n    rightIcon: React.createElement(Icon, {\n      type: \"Fontawesome5\",\n      name: \"edit\",\n      iconStyle: styles.iconRight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }\n    }),\n    errorMessage: formError.telefono ? \"Este campo es obligatorio.\" : null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 5\n    }\n  })), React.createElement(View, {\n    style: styles.updateContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 4\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: ActualizarDatos,\n    style: styles.updateButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: styles.textUpdate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 6\n    }\n  }, \"Actualizar Datos\"))), React.createElement(View, {\n    style: styles.backContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 4\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate(\"Home\");\n    },\n    style: styles.comeBack,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 5\n    }\n  }, React.createElement(Icon, {\n    raised: true,\n    name: \"arrow-left\",\n    type: \"font-awesome\",\n    color: \"#03255F\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 6\n    }\n  }))), React.createElement(Loading, {\n    isVisible: loading,\n    text: \"procesando.\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 4\n    }\n  }));\n}\n\nvar _Dimensions$get = Dimensions.get(\"window\"),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 11\n  },\n  headerContainer: {\n    flex: 1\n  },\n  imageContainer: {\n    flex: 2\n  },\n  titleContainer: {\n    flex: 1\n  },\n  inputContainer: {\n    flex: 5,\n    width: width,\n    alignItems: \"center\",\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: \"#34495E\",\n    backgroundColor: \"#A9B4C0\",\n    paddingVertical: 25\n  },\n  updateContainer: {\n    flex: 1,\n    height: height * 0.15\n  },\n  backContainer: {\n    flex: 1\n  },\n  title: {\n    fontSize: 20,\n    color: \"#03255F\",\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n    margin: 5\n  },\n  inputTitle: {\n    fontSize: 15,\n    color: \"#03255F\",\n    fontWeight: \"bold\",\n    alignSelf: \"center\",\n    justifyContent: \"center\"\n  },\n  input: {\n    width: width * 0.75,\n    height: height * 0.05,\n    backgroundColor: \"#FFF\",\n    margin: 8,\n    borderRadius: 30,\n    borderWidth: 1,\n    borderColor: \"#34495E\"\n  },\n  inputText: {\n    fontSize: 12,\n    color: \"#03255F\",\n    fontWeight: \"bold\"\n  },\n  inputUnderContainer: {\n    borderBottomWidth: 0\n  },\n  iconRight: {\n    color: \"#c1c1c1\"\n  },\n  textUpdate: {\n    fontSize: 17.5,\n    color: \"white\",\n    fontWeight: \"bold\"\n  },\n  updateButton: {\n    width: width * 0.5,\n    height: height * 0.04,\n    backgroundColor: \"green\",\n    alignSelf: \"center\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderRadius: 20,\n    margin: 10\n  },\n  comeBack: {\n    alignSelf: \"flex-start\",\n    borderRadius: 25,\n    marginLeft: 15,\n    marginTop: -115,\n    position: \"absolute\"\n  }\n});","map":{"version":3,"sources":["/Users/marceloimac/Documents/GitHub/JornadasApp/src/Screens/Perfil/PerfilUSer.js"],"names":["React","useState","Input","Icon","firebase","useNavigation","usePreference","ProfileImage","HeaderView","Loading","Restart","PerfilUSer","props","toastRef","loading","setLoading","navigation","userFbData","formError","setFormError","nombre","setNombre","apellido","setApellido","telefono","setTelefono","ActualizarDatos","errors","current","show","database","ref","child","uid","update","then","response","handleReset","catch","err","setUserFbData","styles","mainView","headerContainer","imageContainer","titleContainer","title","inputContainer","inputTitle","input","inputText","inputUnderContainer","e","nativeEvent","text","iconRight","updateContainer","updateButton","textUpdate","backContainer","navigate","comeBack","Dimensions","get","width","height","StyleSheet","create","container","flex","alignItems","borderRadius","borderWidth","borderColor","backgroundColor","paddingVertical","fontSize","color","fontWeight","textAlign","margin","alignSelf","justifyContent","borderBottomWidth","marginLeft","marginTop","position"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n\tText,\n\tTouchableOpacity,\n\tView,\n\tStyleSheet,\n\tSafeAreaView,\n\tDimensions,\n} from \"react-native\";\nimport { Input, Icon } from \"react-native-elements\";\nimport firebase from \"../../../Firebase/Firebase\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport usePreference from \"../../Hooks/usePreferences\";\nimport ProfileImage from \"../../components/Layouts/ProfileImage\";\nimport HeaderView from \"../../components/Layouts/Header\";\nimport Loading from \"../../Utils/Loading\";\nimport { Restart } from \"fiction-expo-restart\";\n\n\nexport default function PerfilUSer(props) {\n\tconst { toastRef } = props;\n\tconst [loading, setLoading] = useState(false);\n\tconst navigation = useNavigation();\n\tconst { userFbData } = usePreference();\n\tconst [formError, setFormError] = useState({});\n\tconst [nombre, setNombre] = useState(userFbData.nombre);\n\tconst [apellido, setApellido] = useState(userFbData.apellido);\n\tconst [telefono, setTelefono] = useState(userFbData.telefono);\n\n\tconst ActualizarDatos = () => {\n\t\tlet errors = {};\n\t\tif (!nombre || !apellido || !telefono) {\n\t\t\ttoastRef.current.show(\"Todos los campos son obligatorios\");\n\t\t\tif (!nombre) errors.nombre = true;\n\t\t\tif (!apellido) errors.apellido = true;\n\t\t\tif (!telefono) errors.telefono = true;\n\t\t} else {\n\t\t\tsetLoading(true);\n\t\t\tfirebase\n\t\t\t\t.database()\n\t\t\t\t.ref()\n\t\t\t\t.child(`Users/${userFbData.uid}/`)\n\t\t\t\t.update({\n\t\t\t\t\tnombre: nombre,\n\t\t\t\t\tapellido: apellido,\n\t\t\t\t\ttelefono: telefono,\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastRef.current.show(\"Datos actualizados con exito\");\n\t\t\t\t\thandleReset();\n\t\t\t\t\tRestart();\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastRef.current.show(\"Algo anda mal.\");\n\t\t\t\t\tsetFormError(errors);\n\t\t\t\t\tsetUserFbData();\n\t\t\t\t});\n\t\t}\n\t};\n\n\tfunction handleReset() {\n\t\treturn {\n\t\t\tnombre: userFbData.nombre,\n\t\t\tapellido: userFbData.apellido,\n\t\t\ttelefono: userFbData.telefono,\n\t\t};\n\t}\n\n\treturn (\n\t\t<SafeAreaView style={styles.mainView}>\n\t\t\t<View style={styles.headerContainer}>\n\t\t\t\t<HeaderView props={props} />\n\t\t\t</View>\n\t\t\t<View style={styles.imageContainer}>\n\t\t\t<ProfileImage/>\n\t\t\t</View>\n\t\t\t<View style={styles.titleContainer}>\n\t\t\t\t<Text style={styles.title}>Perfil</Text>\n\t\t\t</View>\n\t\t\t<View style={styles.inputContainer}>\n\t\t\t<View >\n\t\t\t\t<Text style={styles.inputTitle}>Editar Datos</Text>\n\t\t\t</View>\n\t\t\t\t<Input\n\t\t\t\t\tcontainerStyle={styles.input}\n\t\t\t\t\tinputStyle={styles.inputText}\n\t\t\t\t\tinputContainerStyle={styles.inputUnderContainer}\n\t\t\t\t\tplaceholder=\"Nombre(s)\"\n\t\t\t\t\tplaceholderTextColor=\"#969696\"\n\t\t\t\t\tdefaultValue={userFbData.nombre}\n\t\t\t\t\tonChange={(e) => setNombre(e.nativeEvent.text)}\n\t\t\t\t\trightIcon={\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ttype=\"Fontawesome5\"\n\t\t\t\t\t\t\tname=\"edit\"\n\t\t\t\t\t\t\ticonStyle={styles.iconRight}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\terrorMessage={formError.nombre ? \"Este campo es obligatorio.\" : null}\n\t\t\t\t/>\n\t\t\t\t<Input\n\t\t\t\t\tcontainerStyle={styles.input}\n\t\t\t\t\tinputStyle={styles.inputText}\n\t\t\t\t\tinputContainerStyle={styles.inputUnderContainer}\n\t\t\t\t\tplaceholder=\"Apellido(s)\"\n\t\t\t\t\tplaceholderTextColor=\"#969696\"\n\t\t\t\t\tdefaultValue={userFbData.apellido}\n\t\t\t\t\tonChange={(e) => setApellido(e.nativeEvent.text)}\n\t\t\t\t\trightIcon={\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ttype=\"Fontawesome5\"\n\t\t\t\t\t\t\tname=\"edit\"\n\t\t\t\t\t\t\ticonStyle={styles.iconRight}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\terrorMessage={\n\t\t\t\t\t\tformError.apellido ? \"Este campo es obligatorio.\" : null\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Input\n\t\t\t\t\tcontainerStyle={styles.input}\n\t\t\t\t\tinputStyle={styles.inputText}\n\t\t\t\t\tinputContainerStyle={styles.inputUnderContainer}\n\t\t\t\t\tplaceholder=\"TelÃ©fono De Contacto\"\n\t\t\t\t\tplaceholderTextColor=\"#969696\"\n\t\t\t\t\tdefaultValue={userFbData.telefono}\n\t\t\t\t\tkeyboardType=\"number-pad\"\n\t\t\t\t\tonChange={(e) => setTelefono(e.nativeEvent.text)}\n\t\t\t\t\trightIcon={\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ttype=\"Fontawesome5\"\n\t\t\t\t\t\t\tname=\"edit\"\n\t\t\t\t\t\t\ticonStyle={styles.iconRight}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\terrorMessage={\n\t\t\t\t\t\tformError.telefono ? \"Este campo es obligatorio.\" : null\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</View>\n\t\t\t<View style={styles.updateContainer}>\n\t\t\t\t<TouchableOpacity onPress={ActualizarDatos} style={styles.updateButton}>\n\t\t\t\t\t<Text style={styles.textUpdate}>Actualizar Datos</Text>\n\t\t\t\t</TouchableOpacity>\n\t\t\t</View>\n\t\t\t<View style={styles.backContainer}>\n\t\t\t\t<TouchableOpacity\n\t\t\t\t\tonPress={() => navigation.navigate(\"Home\")}\n\t\t\t\t\tstyle={styles.comeBack}\n\t\t\t\t>\n\t\t\t\t\t<Icon raised name=\"arrow-left\" type=\"font-awesome\" color=\"#03255F\" />\n\t\t\t\t</TouchableOpacity>\n\t\t\t</View>\n\t\t\t<Loading isVisible={loading} text=\"procesando.\" />\n\t\t</SafeAreaView>\n\t);\n}\n\nconst { width, height } = Dimensions.get(\"window\");\n\nconst styles = StyleSheet.create({\n\tcontainer: {\n\t\tflex: 11,\n\t},\n\theaderContainer: {\n\t\tflex: 1,\n\t},\n\timageContainer: {\n\t\tflex: 2,\n\t},\n\ttitleContainer: {\n\t\tflex: 1,\n\t},\n\tinputContainer: {\n\t\tflex: 5,\n\t\twidth: width,\n\t\talignItems: \"center\",\n\t\tborderRadius: 20,\n\t\tborderWidth: 1,\n\t\tborderColor: \"#34495E\",\n\t\tbackgroundColor: \"#A9B4C0\",\n\t\tpaddingVertical: 25,\n\t},\n\tupdateContainer: {\n\t\tflex: 1,\n\t\theight: height * 0.15,\n\t},\n\tbackContainer: {\n\t\tflex: 1,\n\t},\n\ttitle: {\n\t\tfontSize: 20,\n\t\tcolor: \"#03255F\",\n\t\tfontWeight: \"bold\",\n\t\ttextAlign: \"center\",\n\t\tmargin: 5,\n\t},\n\tinputTitle: {\n\t\tfontSize: 15,\n\t\tcolor: \"#03255F\",\n\t\tfontWeight: \"bold\",\n\t\talignSelf: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\tinput: {\n\t\twidth: width * 0.75,\n\t\theight: height * 0.05,\n\t\tbackgroundColor: \"#FFF\",\n\t\tmargin: 8,\n\t\tborderRadius: 30,\n\t\tborderWidth: 1,\n\t\tborderColor: \"#34495E\",\n\t},\n\tinputText: {\n\t\tfontSize: 12,\n\t\tcolor: \"#03255F\",\n\t\tfontWeight: \"bold\",\n\t},\n\tinputUnderContainer: {\n\t\tborderBottomWidth: 0,\n\t},\n\ticonRight: {\n\t\tcolor: \"#c1c1c1\",\n\t},\n\ttextUpdate: {\n\t\tfontSize: 17.5,\n\t\tcolor: \"white\",\n\t\tfontWeight: \"bold\",\n\t},\n\tupdateButton: {\n\t\twidth: width * 0.5,\n\t\theight: height * 0.04,\n\t\tbackgroundColor: \"green\",\n\t\talignSelf: \"center\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\tborderRadius: 20,\n\t\tmargin: 10,\n\t},\n\tcomeBack: {\n\t\talignSelf: \"flex-start\",\n\t\tborderRadius: 25,\n\t\tmarginLeft: 15,\n\t\tmarginTop: -115,\n\t\tposition: \"absolute\",\n\t},\n});"]},"metadata":{},"sourceType":"module"}