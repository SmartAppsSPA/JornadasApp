{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\jahma\\\\OneDrive\\\\Documents\\\\GitHub\\\\JornadasApp\\\\App.js\";\nimport \"react-native-gesture-handler\";\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport firebase from \"./Firebase/Firebase\";\nimport MyUserDrawer from \"./src/MyUserDrawer/MyUserDrawer\";\nimport MyCompanyDrawer from \"./src/MyCompanyDrawer/MyCompanyDrawer\";\nimport MyStack from \"./src/MyStack/MyStack\";\nimport PreferencesContext from \"./src/Context/PreferencesContext\";\n\nvar App = function App() {\n  var _useState = useState(undefined),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      userData = _useState4[0],\n      setUserData = _useState4[1];\n\n  useEffect(function () {\n    firebase.auth().onAuthStateChanged(function (response) {\n      setUser(response);\n\n      if (response) {\n        firebase.database().ref(\"Users/\" + response.uid).on(\"value\", function (snapshot) {\n          setUserData(snapshot.val());\n        });\n      } else {\n        console.log(\"No hay usuario logeado\");\n      }\n    });\n  }, [user]);\n  var preferences = useMemo(function () {\n    return {\n      userData: userData\n    }[userData];\n  });\n  if (user === undefined) return null;\n\n  if (user && userData) {\n    if (userData.tipo === \"User\") {\n      return React.createElement(PreferencesContext.Provider, {\n        value: preferences,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 8\n        }\n      }, React.createElement(MyUserDrawer, {\n        user: user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 8\n        }\n      }));\n    } else if (userData.tipo === \"Company\") {\n      return React.createElement(MyCompanyDrawer, {\n        user: user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 14\n        }\n      });\n    } else {\n      return React.createElement(MyStack, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 14\n        }\n      });\n    }\n  } else {\n    return React.createElement(MyStack, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 12\n      }\n    });\n  }\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/jahma/OneDrive/Documents/GitHub/JornadasApp/App.js"],"names":["React","useState","useEffect","useMemo","firebase","MyUserDrawer","MyCompanyDrawer","MyStack","PreferencesContext","App","undefined","user","setUser","userData","setUserData","auth","onAuthStateChanged","response","database","ref","uid","on","snapshot","val","console","log","preferences","tipo"],"mappings":";;AAAA,OAAO,8BAAP;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,OAArC,QAAmD,OAAnD;AACA,OAAOC,QAAP;AACA,OAAOC,YAAP;AACA,OAAOC,eAAP;AACA,OAAOC,OAAP;AACA,OAAOC,kBAAP;;AACA,IAAMC,GAAG,GAAG,SAANA,GAAM,GAAM;AAAA,kBACQR,QAAQ,CAACS,SAAD,CADhB;AAAA;AAAA,MACTC,IADS;AAAA,MACHC,OADG;;AAAA,mBAEgBX,QAAQ,CAAC,IAAD,CAFxB;AAAA;AAAA,MAETY,QAFS;AAAA,MAECC,WAFD;;AAIhBZ,EAAAA,SAAS,CAAC,YAAM;AACbE,IAAAA,QAAQ,CAACW,IAAT,GAAgBC,kBAAhB,CAAmC,UAACC,QAAD,EAAc;AAChDL,MAAAA,OAAO,CAACK,QAAD,CAAP;;AACA,UAAIA,QAAJ,EAAc;AACZb,QAAAA,QAAQ,CACLc,QADH,GAEGC,GAFH,YAEgBF,QAAQ,CAACG,GAFzB,EAGGC,EAHH,CAGM,OAHN,EAGe,UAACC,QAAD,EAAc;AACzBR,UAAAA,WAAW,CAACQ,QAAQ,CAACC,GAAT,EAAD,CAAX;AACD,SALH;AAMD,OAPD,MAOO;AACLC,QAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACD;AACF,KAZA;AAaF,GAdQ,EAcN,CAACd,IAAD,CAdM,CAAT;AAgBA,MAAMe,WAAW,GAAGvB,OAAO,CACzB;AAAA,WAAK;AACHU,MAAAA,QAAQ,EAARA;AADG,KAAD,CAGHA,QAHG,CAAJ;AAAA,GADyB,CAA3B;AAMA,MAAIF,IAAI,KAAKD,SAAb,EAAwB,OAAO,IAAP;;AAExB,MAAIC,IAAI,IAAIE,QAAZ,EAAsB;AACpB,QAAIA,QAAQ,CAACc,IAAT,KAAkB,MAAtB,EAA8B;AAC5B,aACC,oBAAC,kBAAD,CAAoB,QAApB;AAA6B,QAAA,KAAK,EAAED,WAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,YAAD;AAAc,QAAA,IAAI,EAAEf,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CADD;AAKD,KAND,MAMO,IAAIE,QAAQ,CAACc,IAAT,KAAkB,SAAtB,EAAiC;AACtC,aAAO,oBAAC,eAAD;AAAiB,QAAA,IAAI,EAAEhB,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD,KAFM,MAEA;AACL,aAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;AACF,GAZD,MAYO;AACL,WAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;AACF,CA3CD;;AA6CA,eAAeF,GAAf","sourcesContent":["import \"react-native-gesture-handler\";\nimport React, { useState, useEffect, useMemo} from \"react\";\nimport firebase from \"./Firebase/Firebase\";\nimport MyUserDrawer from \"./src/MyUserDrawer/MyUserDrawer\";\nimport MyCompanyDrawer from \"./src/MyCompanyDrawer/MyCompanyDrawer\";\nimport MyStack from \"./src/MyStack/MyStack\";\nimport PreferencesContext from './src/Context/PreferencesContext';\nconst App = () => {\n  const [user, setUser] = useState(undefined);\n  const [userData, setUserData] = useState(null);\n\n  useEffect(() => {\n     firebase.auth().onAuthStateChanged((response) => {\n      setUser(response);\n      if (response) {\n        firebase\n          .database()\n          .ref(`Users/${response.uid}`)\n          .on(\"value\", (snapshot) => {\n            setUserData(snapshot.val());\n          });\n      } else {\n        console.log(\"No hay usuario logeado\");\n      }\n    });\n  }, [user]);\n\n  const preferences = useMemo(\n    ()=>({\n      userData\n    })\n    [userData]\n  )\n  if (user === undefined) return null;\n\n  if (user && userData) {\n    if (userData.tipo === \"User\") {\n      return (\n       <PreferencesContext.Provider value={preferences}>\n       <MyUserDrawer user={user} />\n       </PreferencesContext.Provider>\n       );\n    } else if (userData.tipo === \"Company\") {\n      return <MyCompanyDrawer user={user} />;\n    } else {\n      return <MyStack />;\n    }\n  } else {\n    return <MyStack />;\n  }\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}