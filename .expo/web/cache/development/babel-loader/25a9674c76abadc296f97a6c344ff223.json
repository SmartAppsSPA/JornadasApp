{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Marcelo\\\\Documents\\\\JornadasApp\\\\JornadasApp\\\\src\\\\MyStackScreen\\\\PrincipalScreen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useRef } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { Icon, Input } from \"react-native-elements\";\nimport { validateEmail } from \"./validation\";\nimport firebase from \"../../Firebase/Firebase\";\nimport Logo from \"./Logo\";\nimport Loading from \"../Utils/Loading\";\nimport Toast from \"react-native-easy-toast\";\nexport default function PrincipalScreen(props) {\n  var toastRef = useRef();\n\n  var _useState = useState(defaultValue()),\n      _useState2 = _slicedToArray(_useState, 2),\n      formData = _useState2[0],\n      setFormData = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      formError = _useState4[0],\n      setFormError = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loadingR = _useState8[0],\n      setLoadingR = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      showPassword = _useState10[0],\n      setShowPassword = _useState10[1];\n\n  var login = function login() {\n    var errors = {};\n\n    if (!formData.email.trim() || !formData.password) {\n      if (!formData.password) errors.password = true;\n      toastRef.current.show(\"Debe Completar todos los campos para iniciar sesión\");\n      if (!formData.email.trim()) errors.email = true;\n      toastRef.current.show(\"Debe Completar todos los campos para iniciar sesión\");\n    } else if (!validateEmail(formData.email.trim())) {\n      errors.email = true;\n      toastRef.current.show(\"Correo electrónico incorrecto.\");\n    } else {\n      setLoading(true);\n      firebase.auth().signInWithEmailAndPassword(formData.email.trim(), formData.password).then(function () {\n        setLoading(false);\n        console.log(\"OK\");\n      }).catch(function () {\n        setLoading(false);\n        toastRef.current.show(\"Usuario no encontrado, verifique sus datos.\");\n        setFormError({\n          email: true,\n          password: true\n        });\n      });\n    }\n\n    setFormError(errors);\n  };\n\n  var _onChange = function onChange(e, type) {\n    setFormData(_objectSpread(_objectSpread({}, formData), {}, _defineProperty({}, type, e.nativeEvent.text)));\n  };\n\n  function defaultValue() {\n    return {\n      email: \"\",\n      password: \"\"\n    };\n  }\n\n  var recuperarPassword = function recuperarPassword() {\n    var email = formData.email;\n    setLoadingR(true);\n    firebase.auth().sendPasswordResetEmail(email).then(function () {\n      setLoadingR(false);\n      toastRef.current.show('Se le ha enviado un correo, por favor siga los pasos.  ');\n    }).catch(function () {\n      setLoadingR(false);\n      toastRef.current.show('Correo electrónico no encontrado.');\n    });\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: styles.background,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 3\n    }\n  }, React.createElement(View, {\n    style: styles.logoContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 4\n    }\n  }, React.createElement(Logo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  })), React.createElement(View, {\n    style: styles.inputContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 4\n    }\n  }, React.createElement(Input, {\n    containerStyle: styles.input,\n    inputStyle: styles.inputText,\n    inputContainerStyle: styles.inputUnderContainer,\n    autoCapitalize: \"none\",\n    placeholder: \"Correo electr\\xF3nico\",\n    placeholderTextColor: \"#969696\",\n    onChange: function onChange(e) {\n      return _onChange(e, \"email\");\n    },\n    rightIcon: formError.email ? React.createElement(Icon, {\n      type: \"font-awesome\",\n      name: \"exclamation-circle\",\n      color: \"red\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 8\n      }\n    }) : React.createElement(Icon, {\n      type: \"material-community\",\n      name: \"at\",\n      iconStyle: styles.iconRight,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 8\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }), React.createElement(Input, {\n    containerStyle: styles.input,\n    inputStyle: styles.inputText,\n    inputContainerStyle: styles.inputUnderContainer,\n    autoCapitalize: \"none\",\n    placeholder: \"Contrase\\xF1a\",\n    placeholderTextColor: \"#969696\",\n    secureTextEntry: showPassword ? false : true,\n    onChange: function onChange(e) {\n      return _onChange(e, \"password\");\n    },\n    rightIcon: formError.password ? React.createElement(Icon, {\n      type: \"font-awesome\",\n      name: \"exclamation-circle\",\n      color: \"red\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 8\n      }\n    }) : React.createElement(Icon, {\n      type: \"material-community\",\n      name: showPassword ? \"eye-off-outline\" : \"eye-outline\",\n      iconStyle: styles.iconRight,\n      onPress: function onPress() {\n        return setShowPassword(!showPassword);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 8\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: login,\n    style: styles.buttonLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 4\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 5\n    }\n  }, \"Iniciar Sesi\\xF3n\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return props.navigation.navigate(\"Register\");\n    },\n    style: styles.buttonRegistrarse,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 4\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 5\n    }\n  }, \"Registrarse\")), React.createElement(Text, {\n    onPress: recuperarPassword,\n    style: styles.recuperar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 4\n    }\n  }, \"\\xBFOlvidaste tu contrase\\xF1a? \"), React.createElement(Text, {\n    style: styles.smartApps,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 4\n    }\n  }, \"\\xA92020 Powered by Smartapps\"), React.createElement(Loading, {\n    isVisible: loading,\n    text: \"Iniciando Sesi\\xF3n\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 4\n    }\n  }), React.createElement(Loading, {\n    isVisible: loadingR,\n    text: \"Pocesando Solicitud...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 4\n    }\n  }), React.createElement(Toast, {\n    ref: toastRef,\n    position: \"center\",\n    style: {\n      backgroundColor: \"#696969\",\n      opacity: 0.9,\n      borderRadius: 20\n    },\n    fadeInduration: 1000,\n    fadeOutDuration: 1000,\n    textStyle: {\n      fontWeight: \"bold\",\n      color: \"#FFF\",\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 4\n    }\n  }));\n}\n\nvar _Dimensions$get = Dimensions.get(\"window\"),\n    width = _Dimensions$get.width;\n\nvar styles = StyleSheet.create({\n  background: {\n    backgroundColor: \"#03255F\",\n    height: \"100%\",\n    alignItems: \"center\"\n  },\n  logoContainer: {\n    marginTop: 75\n  },\n  inputContainer: {\n    marginLeft: 50,\n    marginRight: 50,\n    alignItems: \"center\"\n  },\n  input: {\n    width: 250,\n    backgroundColor: \"#FFF\",\n    margin: 8,\n    borderRadius: 20\n  },\n  inputText: {\n    fontSize: 12,\n    color: \"#03255F\",\n    fontWeight: \"bold\"\n  },\n  inputUnderContainer: {\n    borderBottomWidth: 0\n  },\n  iconRight: {\n    color: \"#c1c1c1\"\n  },\n  text: {\n    fontSize: 15,\n    color: \"white\",\n    fontWeight: \"bold\"\n  },\n  buttonLogin: {\n    backgroundColor: \"blue\",\n    width: 250,\n    height: 30,\n    alignItems: \"center\",\n    alignSelf: \"center\",\n    justifyContent: \"center\",\n    marginTop: 10,\n    marginBottom: 10,\n    borderRadius: 8\n  },\n  buttonRegistrarse: {\n    width: 250,\n    height: 30,\n    backgroundColor: \"#28a745\",\n    alignItems: \"center\",\n    alignSelf: \"center\",\n    justifyContent: \"center\",\n    marginTop: 5,\n    marginBottom: 5,\n    borderRadius: 10\n  },\n  recuperar: {\n    color: '#c1c1c1',\n    marginTop: 10\n  },\n  smartApps: {\n    fontSize: 12,\n    color: \"white\",\n    fontWeight: \"bold\",\n    marginTop: 50,\n    marginBottom: 50,\n    textAlign: \"center\"\n  }\n});","map":{"version":3,"sources":["C:/Users/Marcelo/Documents/JornadasApp/JornadasApp/src/MyStackScreen/PrincipalScreen.js"],"names":["React","useState","useRef","Icon","Input","validateEmail","firebase","Logo","Loading","Toast","PrincipalScreen","props","toastRef","defaultValue","formData","setFormData","formError","setFormError","loading","setLoading","loadingR","setLoadingR","showPassword","setShowPassword","login","errors","email","trim","password","current","show","auth","signInWithEmailAndPassword","then","console","log","catch","onChange","e","type","nativeEvent","text","recuperarPassword","sendPasswordResetEmail","styles","background","logoContainer","inputContainer","input","inputText","inputUnderContainer","iconRight","buttonLogin","navigation","navigate","buttonRegistrarse","recuperar","smartApps","backgroundColor","opacity","borderRadius","fontWeight","color","textAlign","Dimensions","get","width","StyleSheet","create","height","alignItems","marginTop","marginLeft","marginRight","margin","fontSize","borderBottomWidth","alignSelf","justifyContent","marginBottom"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,QAAwC,OAAxC;;;;;;;AASA,SAASC,IAAT,EAAeC,KAAf,QAA4B,uBAA5B;AACA,SAASC,aAAT;AACA,OAAOC,QAAP;AACA,OAAOC,IAAP;AACA,OAAOC,OAAP;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AAEA,eAAe,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAC9C,MAAMC,QAAQ,GAAGV,MAAM,EAAvB;;AACA,kBAAgCD,QAAQ,CAACY,YAAY,EAAb,CAAxC;AAAA;AAAA,MAAOC,QAAP;AAAA,MAAiBC,WAAjB;;AACA,mBAAkCd,QAAQ,CAAC,EAAD,CAA1C;AAAA;AAAA,MAAOe,SAAP;AAAA,MAAkBC,YAAlB;;AACA,mBAA8BhB,QAAQ,CAAC,KAAD,CAAtC;AAAA;AAAA,MAAOiB,OAAP;AAAA,MAAgBC,UAAhB;;AACA,mBAAgClB,QAAQ,CAAC,KAAD,CAAxC;AAAA;AAAA,MAAOmB,QAAP;AAAA,MAAiBC,WAAjB;;AACA,mBAAwCpB,QAAQ,CAAC,KAAD,CAAhD;AAAA;AAAA,MAAOqB,YAAP;AAAA,MAAqBC,eAArB;;AAEA,MAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AACnB,QAAIC,MAAM,GAAG,EAAb;;AACA,QAAI,CAACX,QAAQ,CAACY,KAAT,CAAeC,IAAf,EAAD,IAA0B,CAACb,QAAQ,CAACc,QAAxC,EAAkD;AACjD,UAAI,CAACd,QAAQ,CAACc,QAAd,EAAwBH,MAAM,CAACG,QAAP,GAAkB,IAAlB;AACxBhB,MAAAA,QAAQ,CAACiB,OAAT,CAAiBC,IAAjB,CACC,qDADD;AAGA,UAAI,CAAChB,QAAQ,CAACY,KAAT,CAAeC,IAAf,EAAL,EAA4BF,MAAM,CAACC,KAAP,GAAe,IAAf;AAC5Bd,MAAAA,QAAQ,CAACiB,OAAT,CAAiBC,IAAjB,CACC,qDADD;AAGA,KATD,MASO,IAAI,CAACzB,aAAa,CAACS,QAAQ,CAACY,KAAT,CAAeC,IAAf,EAAD,CAAlB,EAA2C;AACjDF,MAAAA,MAAM,CAACC,KAAP,GAAe,IAAf;AACAd,MAAAA,QAAQ,CAACiB,OAAT,CAAiBC,IAAjB,CAAsB,gCAAtB;AACA,KAHM,MAGA;AACNX,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAb,MAAAA,QAAQ,CACNyB,IADF,GAEEC,0BAFF,CAE6BlB,QAAQ,CAACY,KAAT,CAAeC,IAAf,EAF7B,EAEoDb,QAAQ,CAACc,QAF7D,EAGEK,IAHF,CAGO,YAAM;AACXd,QAAAA,UAAU,CAAC,KAAD,CAAV;AACAe,QAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACA,OANF,EAOEC,KAPF,CAOQ,YAAM;AACZjB,QAAAA,UAAU,CAAC,KAAD,CAAV;AACAP,QAAAA,QAAQ,CAACiB,OAAT,CAAiBC,IAAjB,CAAsB,6CAAtB;AACAb,QAAAA,YAAY,CAAC;AACZS,UAAAA,KAAK,EAAE,IADK;AAEZE,UAAAA,QAAQ,EAAE;AAFE,SAAD,CAAZ;AAIA,OAdF;AAeA;;AACDX,IAAAA,YAAY,CAACQ,MAAD,CAAZ;AACA,GAjCD;;AAmCA,MAAMY,SAAQ,GAAG,SAAXA,QAAW,CAACC,CAAD,EAAIC,IAAJ,EAAa;AAC7BxB,IAAAA,WAAW,iCAAMD,QAAN,2BAAiByB,IAAjB,EAAwBD,CAAC,CAACE,WAAF,CAAcC,IAAtC,GAAX;AACA,GAFD;;AAIA,WAAS5B,YAAT,GAAwB;AACvB,WAAO;AACNa,MAAAA,KAAK,EAAE,EADD;AAENE,MAAAA,QAAQ,EAAE;AAFJ,KAAP;AAIA;;AAED,MAAMc,iBAAiB,GAAE,SAAnBA,iBAAmB,GAAK;AAC7B,QAAMhB,KAAK,GAAGZ,QAAQ,CAACY,KAAvB;AACAL,IAAAA,WAAW,CAAC,IAAD,CAAX;AACAf,IAAAA,QAAQ,CACPyB,IADD,GAECY,sBAFD,CAEwBjB,KAFxB,EAGCO,IAHD,CAGM,YAAI;AACTZ,MAAAA,WAAW,CAAC,KAAD,CAAX;AACAT,MAAAA,QAAQ,CAACiB,OAAT,CAAiBC,IAAjB,CAAsB,yDAAtB;AACA,KAND,EAOCM,KAPD,CAOO,YAAI;AACVf,MAAAA,WAAW,CAAC,KAAD,CAAX;AACAT,MAAAA,QAAQ,CAACiB,OAAT,CAAiBC,IAAjB,CAAsB,mCAAtB;AACA,KAVD;AAYA,GAfD;;AAiBA,SACC,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAEc,MAAM,CAACC,UAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAED,MAAM,CAACE,aAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADD,EAIC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEF,MAAM,CAACG,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,KAAD;AACC,IAAA,cAAc,EAAEH,MAAM,CAACI,KADxB;AAEC,IAAA,UAAU,EAAEJ,MAAM,CAACK,SAFpB;AAGC,IAAA,mBAAmB,EAAEL,MAAM,CAACM,mBAH7B;AAIC,IAAA,cAAc,EAAC,MAJhB;AAKC,IAAA,WAAW,EAAC,uBALb;AAMC,IAAA,oBAAoB,EAAC,SANtB;AAOC,IAAA,QAAQ,EAAE,kBAACZ,CAAD;AAAA,aAAOD,SAAQ,CAACC,CAAD,EAAI,OAAJ,CAAf;AAAA,KAPX;AAQC,IAAA,SAAS,EACRtB,SAAS,CAACU,KAAV,GACC,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAC,cAAX;AAA0B,MAAA,IAAI,EAAC,oBAA/B;AAAoD,MAAA,KAAK,EAAC,KAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,GAGC,oBAAC,IAAD;AACC,MAAA,IAAI,EAAC,oBADN;AAEC,MAAA,IAAI,EAAC,IAFN;AAGC,MAAA,SAAS,EAAEkB,MAAM,CAACO,SAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,EAqBC,oBAAC,KAAD;AACC,IAAA,cAAc,EAAEP,MAAM,CAACI,KADxB;AAEC,IAAA,UAAU,EAAEJ,MAAM,CAACK,SAFpB;AAGC,IAAA,mBAAmB,EAAEL,MAAM,CAACM,mBAH7B;AAIC,IAAA,cAAc,EAAC,MAJhB;AAKC,IAAA,WAAW,EAAC,eALb;AAMC,IAAA,oBAAoB,EAAC,SANtB;AAOC,IAAA,eAAe,EAAE5B,YAAY,GAAG,KAAH,GAAW,IAPzC;AAQC,IAAA,QAAQ,EAAE,kBAACgB,CAAD;AAAA,aAAOD,SAAQ,CAACC,CAAD,EAAI,UAAJ,CAAf;AAAA,KARX;AASC,IAAA,SAAS,EACRtB,SAAS,CAACY,QAAV,GACC,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAC,cAAX;AAA0B,MAAA,IAAI,EAAC,oBAA/B;AAAoD,MAAA,KAAK,EAAC,KAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,GAGC,oBAAC,IAAD;AACC,MAAA,IAAI,EAAC,oBADN;AAEC,MAAA,IAAI,EAAEN,YAAY,GAAG,iBAAH,GAAuB,aAF1C;AAGC,MAAA,SAAS,EAAEsB,MAAM,CAACO,SAHnB;AAIC,MAAA,OAAO,EAAE;AAAA,eAAM5B,eAAe,CAAC,CAACD,YAAF,CAArB;AAAA,OAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArBD,CAJD,EAgDC,oBAAC,gBAAD;AAAkB,IAAA,OAAO,EAAEE,KAA3B;AAAkC,IAAA,KAAK,EAAEoB,MAAM,CAACQ,WAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAER,MAAM,CAACH,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADD,CAhDD,EAmDC,oBAAC,gBAAD;AACC,IAAA,OAAO,EAAE;AAAA,aAAM9B,KAAK,CAAC0C,UAAN,CAAiBC,QAAjB,CAA0B,UAA1B,CAAN;AAAA,KADV;AAEC,IAAA,KAAK,EAAEV,MAAM,CAACW,iBAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEX,MAAM,CAACH,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAJD,CAnDD,EAyDC,oBAAC,IAAD;AAAM,IAAA,OAAO,EAAEC,iBAAf;AAAkC,IAAA,KAAK,EAAEE,MAAM,CAACY,SAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAzDD,EA0DC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEZ,MAAM,CAACa,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCA1DD,EA2DC,oBAAC,OAAD;AAAS,IAAA,SAAS,EAAEvC,OAApB;AAA6B,IAAA,IAAI,EAAC,qBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA3DD,EA4DC,oBAAC,OAAD;AAAS,IAAA,SAAS,EAAEE,QAApB;AAA8B,IAAA,IAAI,EAAC,wBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA5DD,EA8DC,oBAAC,KAAD;AACC,IAAA,GAAG,EAAER,QADN;AAEC,IAAA,QAAQ,EAAC,QAFV;AAGC,IAAA,KAAK,EAAE;AAAE8C,MAAAA,eAAe,EAAE,SAAnB;AAA8BC,MAAAA,OAAO,EAAE,GAAvC;AAA4CC,MAAAA,YAAY,EAAE;AAA1D,KAHR;AAIC,IAAA,cAAc,EAAE,IAJjB;AAKC,IAAA,eAAe,EAAE,IALlB;AAMC,IAAA,SAAS,EAAE;AAAEC,MAAAA,UAAU,EAAE,MAAd;AAAsBC,MAAAA,KAAK,EAAE,MAA7B;AAAqCC,MAAAA,SAAS,EAAE;AAAhD,KANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9DD,CADD;AAyEA;;AAED,sBAAkBC,UAAU,CAACC,GAAX,CAAe,QAAf,CAAlB;AAAA,IAAQC,KAAR,mBAAQA,KAAR;;AAEA,IAAMtB,MAAM,GAAGuB,UAAU,CAACC,MAAX,CAAkB;AAChCvB,EAAAA,UAAU,EAAE;AACXa,IAAAA,eAAe,EAAE,SADN;AAEXW,IAAAA,MAAM,EAAE,MAFG;AAGXC,IAAAA,UAAU,EAAE;AAHD,GADoB;AAMhCxB,EAAAA,aAAa,EAAE;AACdyB,IAAAA,SAAS,EAAE;AADG,GANiB;AAShCxB,EAAAA,cAAc,EAAE;AACfyB,IAAAA,UAAU,EAAE,EADG;AAEfC,IAAAA,WAAW,EAAE,EAFE;AAGfH,IAAAA,UAAU,EAAE;AAHG,GATgB;AAchCtB,EAAAA,KAAK,EAAE;AACNkB,IAAAA,KAAK,EAAE,GADD;AAENR,IAAAA,eAAe,EAAE,MAFX;AAGNgB,IAAAA,MAAM,EAAE,CAHF;AAINd,IAAAA,YAAY,EAAE;AAJR,GAdyB;AAoBhCX,EAAAA,SAAS,EAAE;AACV0B,IAAAA,QAAQ,EAAE,EADA;AAEVb,IAAAA,KAAK,EAAE,SAFG;AAGVD,IAAAA,UAAU,EAAE;AAHF,GApBqB;AAyBhCX,EAAAA,mBAAmB,EAAE;AACpB0B,IAAAA,iBAAiB,EAAE;AADC,GAzBW;AA4BhCzB,EAAAA,SAAS,EAAE;AACVW,IAAAA,KAAK,EAAE;AADG,GA5BqB;AA+BhCrB,EAAAA,IAAI,EAAE;AACLkC,IAAAA,QAAQ,EAAE,EADL;AAELb,IAAAA,KAAK,EAAE,OAFF;AAGLD,IAAAA,UAAU,EAAE;AAHP,GA/B0B;AAoChCT,EAAAA,WAAW,EAAE;AACZM,IAAAA,eAAe,EAAE,MADL;AAEZQ,IAAAA,KAAK,EAAE,GAFK;AAGZG,IAAAA,MAAM,EAAE,EAHI;AAIZC,IAAAA,UAAU,EAAE,QAJA;AAKZO,IAAAA,SAAS,EAAE,QALC;AAMZC,IAAAA,cAAc,EAAE,QANJ;AAOZP,IAAAA,SAAS,EAAE,EAPC;AAQZQ,IAAAA,YAAY,EAAE,EARF;AASZnB,IAAAA,YAAY,EAAE;AATF,GApCmB;AA+ChCL,EAAAA,iBAAiB,EAAE;AAClBW,IAAAA,KAAK,EAAE,GADW;AAElBG,IAAAA,MAAM,EAAE,EAFU;AAGlBX,IAAAA,eAAe,EAAE,SAHC;AAIlBY,IAAAA,UAAU,EAAE,QAJM;AAKlBO,IAAAA,SAAS,EAAE,QALO;AAMlBC,IAAAA,cAAc,EAAE,QANE;AAOlBP,IAAAA,SAAS,EAAE,CAPO;AAQlBQ,IAAAA,YAAY,EAAE,CARI;AASlBnB,IAAAA,YAAY,EAAE;AATI,GA/Ca;AA0DhCJ,EAAAA,SAAS,EAAC;AACTM,IAAAA,KAAK,EAAE,SADE;AAETS,IAAAA,SAAS,EAAC;AAFD,GA1DsB;AA8DhCd,EAAAA,SAAS,EAAE;AACVkB,IAAAA,QAAQ,EAAE,EADA;AAEVb,IAAAA,KAAK,EAAE,OAFG;AAGVD,IAAAA,UAAU,EAAE,MAHF;AAIVU,IAAAA,SAAS,EAAE,EAJD;AAKVQ,IAAAA,YAAY,EAAE,EALJ;AAMVhB,IAAAA,SAAS,EAAE;AAND;AA9DqB,CAAlB,CAAf","sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport {\r\n\tText,\r\n\tTouchableOpacity,\r\n\tView,\r\n\tStyleSheet,\r\n\tSafeAreaView,\r\n\tDimensions,\r\n} from \"react-native\";\r\nimport { Icon, Input } from \"react-native-elements\";\r\nimport { validateEmail } from \"./validation\";\r\nimport firebase from \"../../Firebase/Firebase\";\r\nimport Logo from \"./Logo\";\r\nimport Loading from \"../Utils/Loading\";\r\nimport Toast from \"react-native-easy-toast\";\r\n\r\nexport default function PrincipalScreen(props) {\r\n\tconst toastRef = useRef();\r\n\tconst [formData, setFormData] = useState(defaultValue());\r\n\tconst [formError, setFormError] = useState({});\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [loadingR, setLoadingR] = useState(false);\r\n\tconst [showPassword, setShowPassword] = useState(false);\r\n\r\n\tconst login = () => {\r\n\t\tlet errors = {};\r\n\t\tif (!formData.email.trim() || !formData.password) {\r\n\t\t\tif (!formData.password) errors.password = true;\r\n\t\t\ttoastRef.current.show(\r\n\t\t\t\t\"Debe Completar todos los campos para iniciar sesión\"\r\n\t\t\t);\r\n\t\t\tif (!formData.email.trim()) errors.email = true;\r\n\t\t\ttoastRef.current.show(\r\n\t\t\t\t\"Debe Completar todos los campos para iniciar sesión\"\r\n\t\t\t);\r\n\t\t} else if (!validateEmail(formData.email.trim())) {\r\n\t\t\terrors.email = true;\r\n\t\t\ttoastRef.current.show(\"Correo electrónico incorrecto.\");\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tfirebase\r\n\t\t\t\t.auth()\r\n\t\t\t\t.signInWithEmailAndPassword(formData.email.trim(), formData.password)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tconsole.log(\"OK\");\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\ttoastRef.current.show(\"Usuario no encontrado, verifique sus datos.\");\r\n\t\t\t\t\tsetFormError({\r\n\t\t\t\t\t\temail: true,\r\n\t\t\t\t\t\tpassword: true,\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t}\r\n\t\tsetFormError(errors);\r\n\t};\r\n\r\n\tconst onChange = (e, type) => {\r\n\t\tsetFormData({ ...formData, [type]: e.nativeEvent.text });\r\n\t};\r\n\r\n\tfunction defaultValue() {\r\n\t\treturn {\r\n\t\t\temail: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t};\r\n\t}\r\n\r\n\tconst recuperarPassword =() =>{\r\n\t\tconst email = formData.email;\r\n\t\tsetLoadingR(true)\r\n\t\tfirebase\r\n\t\t.auth()\r\n\t\t.sendPasswordResetEmail(email)\r\n\t\t.then(()=>{\r\n\t\t\tsetLoadingR(false)\r\n\t\t\ttoastRef.current.show('Se le ha enviado un correo, por favor siga los pasos.  ')\r\n\t\t})\r\n\t\t.catch(()=>{\r\n\t\t\tsetLoadingR(false)\r\n\t\t\ttoastRef.current.show('Correo electrónico no encontrado.')\r\n\t\t})\r\n\r\n\t}\r\n\r\n\treturn (\r\n\t\t<SafeAreaView style={styles.background}>\r\n\t\t\t<View style={styles.logoContainer}>\r\n\t\t\t\t<Logo />\r\n\t\t\t</View>\r\n\t\t\t<View style={styles.inputContainer}>\r\n\t\t\t\t<Input\r\n\t\t\t\t\tcontainerStyle={styles.input}\r\n\t\t\t\t\tinputStyle={styles.inputText}\r\n\t\t\t\t\tinputContainerStyle={styles.inputUnderContainer}\r\n\t\t\t\t\tautoCapitalize='none'\r\n\t\t\t\t\tplaceholder=\"Correo electrónico\"\r\n\t\t\t\t\tplaceholderTextColor=\"#969696\"\r\n\t\t\t\t\tonChange={(e) => onChange(e, \"email\")}\r\n\t\t\t\t\trightIcon={\r\n\t\t\t\t\t\tformError.email ? (\r\n\t\t\t\t\t\t\t<Icon type=\"font-awesome\" name=\"exclamation-circle\" color=\"red\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\ttype=\"material-community\"\r\n\t\t\t\t\t\t\t\tname=\"at\"\r\n\t\t\t\t\t\t\t\ticonStyle={styles.iconRight}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\tcontainerStyle={styles.input}\r\n\t\t\t\t\tinputStyle={styles.inputText}\r\n\t\t\t\t\tinputContainerStyle={styles.inputUnderContainer}\r\n\t\t\t\t\tautoCapitalize='none'\r\n\t\t\t\t\tplaceholder=\"Contraseña\"\r\n\t\t\t\t\tplaceholderTextColor=\"#969696\"\r\n\t\t\t\t\tsecureTextEntry={showPassword ? false : true}\r\n\t\t\t\t\tonChange={(e) => onChange(e, \"password\")}\r\n\t\t\t\t\trightIcon={\r\n\t\t\t\t\t\tformError.password ? (\r\n\t\t\t\t\t\t\t<Icon type=\"font-awesome\" name=\"exclamation-circle\" color=\"red\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\ttype=\"material-community\"\r\n\t\t\t\t\t\t\t\tname={showPassword ? \"eye-off-outline\" : \"eye-outline\"}\r\n\t\t\t\t\t\t\t\ticonStyle={styles.iconRight}\r\n\t\t\t\t\t\t\t\tonPress={() => setShowPassword(!showPassword)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</View>\r\n\t\t\t<TouchableOpacity onPress={login} style={styles.buttonLogin}>\r\n\t\t\t\t<Text style={styles.text}>Iniciar Sesión</Text>\r\n\t\t\t</TouchableOpacity>\r\n\t\t\t<TouchableOpacity\r\n\t\t\t\tonPress={() => props.navigation.navigate(\"Register\")}\r\n\t\t\t\tstyle={styles.buttonRegistrarse}\r\n\t\t\t>\r\n\t\t\t\t<Text style={styles.text}>Registrarse</Text>\r\n\t\t\t</TouchableOpacity>\r\n\t\t\t<Text onPress={recuperarPassword} style={styles.recuperar}>¿Olvidaste tu contraseña? </Text>\r\n\t\t\t<Text style={styles.smartApps}>©2020 Powered by Smartapps</Text>\r\n\t\t\t<Loading isVisible={loading} text=\"Iniciando Sesión\" />\r\n\t\t\t<Loading isVisible={loadingR} text=\"Pocesando Solicitud...\" />\r\n\t\t\t\r\n\t\t\t<Toast\r\n\t\t\t\tref={toastRef}\r\n\t\t\t\tposition=\"center\"\r\n\t\t\t\tstyle={{ backgroundColor: \"#696969\", opacity: 0.9, borderRadius: 20 }}\r\n\t\t\t\tfadeInduration={1000}\r\n\t\t\t\tfadeOutDuration={1000}\r\n\t\t\t\ttextStyle={{ fontWeight: \"bold\", color: \"#FFF\", textAlign: \"center\" }}\r\n\t\t\t/>\r\n\t\t</SafeAreaView>\r\n\t);\r\n}\r\n\r\nconst { width } = Dimensions.get(\"window\");\r\n\r\nconst styles = StyleSheet.create({\r\n\tbackground: {\r\n\t\tbackgroundColor: \"#03255F\",\r\n\t\theight: \"100%\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\tlogoContainer: {\r\n\t\tmarginTop: 75,\r\n\t},\r\n\tinputContainer: {\r\n\t\tmarginLeft: 50,\r\n\t\tmarginRight: 50,\r\n\t\talignItems: \"center\",\r\n\t},\r\n\tinput: {\r\n\t\twidth: 250,\r\n\t\tbackgroundColor: \"#FFF\",\r\n\t\tmargin: 8,\r\n\t\tborderRadius: 20,\r\n\t},\r\n\tinputText: {\r\n\t\tfontSize: 12,\r\n\t\tcolor: \"#03255F\",\r\n\t\tfontWeight: \"bold\",\r\n\t},\r\n\tinputUnderContainer: {\r\n\t\tborderBottomWidth: 0,\r\n\t},\r\n\ticonRight: {\r\n\t\tcolor: \"#c1c1c1\",\r\n\t},\r\n\ttext: {\r\n\t\tfontSize: 15,\r\n\t\tcolor: \"white\",\r\n\t\tfontWeight: \"bold\",\r\n\t},\r\n\tbuttonLogin: {\r\n\t\tbackgroundColor: \"blue\",\r\n\t\twidth: 250,\r\n\t\theight: 30,\r\n\t\talignItems: \"center\",\r\n\t\talignSelf: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t\tmarginTop: 10,\r\n\t\tmarginBottom: 10,\r\n\t\tborderRadius: 8,\r\n\t},\r\n\tbuttonRegistrarse: {\r\n\t\twidth: 250,\r\n\t\theight: 30,\r\n\t\tbackgroundColor: \"#28a745\",\r\n\t\talignItems: \"center\",\r\n\t\talignSelf: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t\tmarginTop: 5,\r\n\t\tmarginBottom: 5,\r\n\t\tborderRadius: 10,\r\n\t},\r\n\trecuperar:{\r\n\t\tcolor: '#c1c1c1',\r\n\t\tmarginTop:10,\r\n\t},\t\r\n\tsmartApps: {\r\n\t\tfontSize: 12,\r\n\t\tcolor: \"white\",\r\n\t\tfontWeight: \"bold\",\r\n\t\tmarginTop: 50,\r\n\t\tmarginBottom: 50,\r\n\t\ttextAlign: \"center\",\r\n\t},\r\n});\r\n"]},"metadata":{},"sourceType":"module"}